var a0_0x27415e=a0_0x12ba;(function(_0x174a3a,_0x23658b){var _0xe1f045=a0_0x12ba,_0x155589=_0x174a3a();while(!![]){try{var _0x15a122=parseInt(_0xe1f045(0x34a))/0x1*(parseInt(_0xe1f045(0x2d6))/0x2)+parseInt(_0xe1f045(0x309))/0x3*(parseInt(_0xe1f045(0x30d))/0x4)+parseInt(_0xe1f045(0x30f))/0x5+-parseInt(_0xe1f045(0x2fd))/0x6+parseInt(_0xe1f045(0x2b9))/0x7+-parseInt(_0xe1f045(0x298))/0x8+parseInt(_0xe1f045(0x28f))/0x9*(parseInt(_0xe1f045(0x307))/0xa);if(_0x15a122===_0x23658b)break;else _0x155589['push'](_0x155589['shift']());}catch(_0xa4261a){_0x155589['push'](_0x155589['shift']());}}}(a0_0x5e09,0xbfa07));var a0_0x5d8bca=(function(){var _0x223757=!![];return function(_0x4058e2,_0x97eff8){var _0x465258=_0x223757?function(){var _0x5cca26=a0_0x12ba;if(_0x97eff8){var _0x1fc895=_0x97eff8[_0x5cca26(0x2da)](_0x4058e2,arguments);return _0x97eff8=null,_0x1fc895;}}:function(){};return _0x223757=![],_0x465258;};}());(function(){a0_0x5d8bca(this,function(){var _0x5825e0=a0_0x12ba,_0x4bba3f=new RegExp(_0x5825e0(0x327)),_0x1a2831=new RegExp(_0x5825e0(0x341),'i'),_0x13aa27=a0_0xf12e61(_0x5825e0(0x246));!_0x4bba3f['test'](_0x13aa27+_0x5825e0(0x219))||!_0x1a2831[_0x5825e0(0x281)](_0x13aa27+_0x5825e0(0x1bc))?_0x13aa27('0'):a0_0xf12e61();})();}());var a0_0x3b68e3=(function(){var _0x1ce0ed=!![];return function(_0x1a8784,_0x4def15){var _0xe213a1=_0x1ce0ed?function(){var _0x43a9cc=a0_0x12ba;if(_0x4def15){var _0x2c1268=_0x4def15[_0x43a9cc(0x2da)](_0x1a8784,arguments);return _0x4def15=null,_0x2c1268;}}:function(){};return _0x1ce0ed=![],_0xe213a1;};}()),a0_0x22b781=a0_0x3b68e3(this,function(){var _0x3efdb1=a0_0x12ba,_0x24e4e2;try{var _0x1abc01=Function(_0x3efdb1(0x32c)+_0x3efdb1(0x2ce)+');');_0x24e4e2=_0x1abc01();}catch(_0x158b57){_0x24e4e2=window;}var _0x540dc8=_0x24e4e2[_0x3efdb1(0x28e)]=_0x24e4e2[_0x3efdb1(0x28e)]||{},_0x45b619=['log','warn',_0x3efdb1(0x33e),_0x3efdb1(0x292),_0x3efdb1(0x277),'table',_0x3efdb1(0x329)];for(var _0x53da68=0x0;_0x53da68<_0x45b619[_0x3efdb1(0x275)];_0x53da68++){var _0x543084=a0_0x3b68e3['constructor'][_0x3efdb1(0x26a)][_0x3efdb1(0x1b6)](a0_0x3b68e3),_0x28b18c=_0x45b619[_0x53da68],_0x54a718=_0x540dc8[_0x28b18c]||_0x543084;_0x543084['__proto__']=a0_0x3b68e3[_0x3efdb1(0x1b6)](a0_0x3b68e3),_0x543084['toString']=_0x54a718[_0x3efdb1(0x358)]['bind'](_0x54a718),_0x540dc8[_0x28b18c]=_0x543084;}});a0_0x22b781();async function call_oai_completion_stream(_0x239b70,_0x19da69='',_0xe00dab='',_0x2b99f8=null,_0x6c07ce=0x1,_0x45f877=0x400,_0x201a58=a0_0x27415e(0x1fd)){var _0x12571f=a0_0x27415e,_0x37bc71;if(''==_0xe00dab)return _0x37bc71=_0x12571f(0x35d),alert(_0x37bc71),_0x37bc71;try{var _0x46eb17={'model':_0x201a58,'temperature':_0x6c07ce,'max_tokens':_0x45f877,'stream':!0x0,'messages':[{'role':_0x12571f(0x335),'content':_0x239b70},{'role':_0x12571f(0x2c3),'content':_0x19da69}]},_0xd13e64=(console[_0x12571f(0x1c3)](_0x46eb17),await fetch(_0x12571f(0x2f1),{'method':_0x12571f(0x2a7),'redirect':_0x12571f(0x2fa),'headers':{'Content-Type':_0x12571f(0x351),'Authorization':'Bearer\x20'+_0xe00dab},'body':JSON[_0x12571f(0x205)](_0x46eb17)}));if(0xc8!=_0xd13e64[_0x12571f(0x2a0)])return'[ERROR:\x20OAI\x20-\x20'+_0xd13e64[_0x12571f(0x2a0)]+']';{var _0x5358c9=_0xd13e64[_0x12571f(0x2d4)][_0x12571f(0x1f3)](),_0x369531=new TextDecoder();let _0x539bc4='';for(;;){var _0x3d2686=await _0x5358c9['read']();if(_0x3d2686[_0x12571f(0x27e)])break;for(const _0x1fd237 of _0x369531[_0x12571f(0x1dc)](_0x3d2686[_0x12571f(0x32f)])[_0x12571f(0x1fa)]('\x0a'))try{var _0x5a764e=JSON[_0x12571f(0x2bf)](_0x1fd237[_0x12571f(0x333)](_0x12571f(0x21b),''));null==_0x5a764e[_0x12571f(0x231)][0x0][_0x12571f(0x29f)]&&(null!=_0x2b99f8&&('P'==_0x2b99f8[_0x12571f(0x256)]?_0x2b99f8['textContent']+=_0x5a764e[_0x12571f(0x231)][0x0][_0x12571f(0x353)]['content']:_0x2b99f8[_0x12571f(0x32f)]+=_0x5a764e[_0x12571f(0x231)][0x0][_0x12571f(0x353)][_0x12571f(0x2d5)]),_0x539bc4+=_0x5a764e[_0x12571f(0x231)][0x0][_0x12571f(0x353)]['content']);}catch(_0x3766f2){}}return _0x539bc4;}}catch(_0x2adeb8){return console['log'](_0x2adeb8),_0x12571f(0x2d1);}}function convertInputToOutput(_0x225061){var _0x4c5969=a0_0x27415e,_0x329262=_0x225061['split'](_0x4c5969(0x238)),_0x232ef8=[];for(let _0x45f6bd=0x0;_0x45f6bd<_0x329262[_0x4c5969(0x275)];_0x45f6bd++){var _0xb03fb9=_0x329262[_0x45f6bd][_0x4c5969(0x1fa)](_0x4c5969(0x1c1)),_0x33badc={'role':_0x4c5969(0x2c3),'content':_0xb03fb9[0x0]},_0x33badc=(_0x232ef8[_0x4c5969(0x35e)](_0x33badc),{'role':_0x4c5969(0x203),'content':_0xb03fb9[0x1]});''!=_0xb03fb9[0x1]&&_0x232ef8['push'](_0x33badc);}return _0x232ef8;}async function call_oai_completion_stream_strict(_0x5f1cd7,_0x5dba9e='',_0x2cecdc='',_0x5c6532=null,_0x35d18d=0x1,_0x2d1a2d=0x400,_0x1ba967=a0_0x27415e(0x1fd)){var _0x2735ac=a0_0x27415e,_0x2be10a;if(''==_0x2cecdc)return _0x2be10a=_0x2735ac(0x35d),alert(_0x2be10a),_0x2be10a;try{var _0xdc59c8=convertInputToOutput(_0x5dba9e=_0x5dba9e),_0x11ed3e={'model':_0x1ba967,'temperature':_0x35d18d,'max_tokens':_0x2d1a2d,'stream':!0x0,'messages':[{'role':_0x2735ac(0x335),'content':_0x5f1cd7}][_0x2735ac(0x1f5)](_0xdc59c8),'top_p':0x1,'frequency_penalty':0x0,'presence_penalty':0x0},_0x2e15cd=(console[_0x2735ac(0x1c3)](_0x11ed3e),await fetch(_0x2735ac(0x2f1),{'method':_0x2735ac(0x2a7),'redirect':'follow','headers':{'Content-Type':_0x2735ac(0x351),'Authorization':_0x2735ac(0x27c)+_0x2cecdc},'body':JSON[_0x2735ac(0x205)](_0x11ed3e)}));if(0xc8!=_0x2e15cd['status'])return'[ERROR:\x20OAI\x20-\x20'+_0x2e15cd[_0x2735ac(0x2a0)]+']';{var _0x5b18b3=_0x2e15cd[_0x2735ac(0x2d4)][_0x2735ac(0x1f3)](),_0x24f6a9=new TextDecoder();let _0x420e7b='';for(;;){var _0x7d885f=await _0x5b18b3[_0x2735ac(0x21d)]();if(_0x7d885f['done'])break;for(const _0x566ea5 of _0x24f6a9['decode'](_0x7d885f[_0x2735ac(0x32f)])[_0x2735ac(0x1fa)]('\x0a'))try{var _0x17e3f2=JSON[_0x2735ac(0x2bf)](_0x566ea5[_0x2735ac(0x333)]('data:\x20',''));null==_0x17e3f2['choices'][0x0]['finish_reason']&&(null!=_0x5c6532&&('P'==_0x5c6532[_0x2735ac(0x256)]?_0x5c6532[_0x2735ac(0x27d)]+=_0x17e3f2[_0x2735ac(0x231)][0x0]['delta'][_0x2735ac(0x2d5)]:_0x5c6532['value']+=_0x17e3f2['choices'][0x0][_0x2735ac(0x353)]['content']),_0x420e7b+=_0x17e3f2[_0x2735ac(0x231)][0x0][_0x2735ac(0x353)]['content']);}catch(_0xa16301){}}return _0x420e7b;}}catch(_0x36db64){return console[_0x2735ac(0x1c3)](_0x36db64),_0x2735ac(0x2d1);}}async function call_oai_embedding(_0x57e830,_0x7bb531=''){var _0xc5c3c5=a0_0x27415e,_0x43fbc6;if(''==_0x7bb531)return _0x43fbc6=_0xc5c3c5(0x35d),alert(_0x43fbc6),_0x43fbc6;try{var _0x1180bd,_0x2251df={'model':_0xc5c3c5(0x266),'input':_0x57e830},_0x185342=await fetch(_0xc5c3c5(0x2a6),{'method':_0xc5c3c5(0x2a7),'headers':{'Content-Type':_0xc5c3c5(0x351),'Authorization':_0xc5c3c5(0x27c)+_0x7bb531},'body':JSON[_0xc5c3c5(0x205)](_0x2251df)});return 0xc8!=_0x185342[_0xc5c3c5(0x2a0)]?(_0x1180bd=_0xc5c3c5(0x1fb)+_0x185342[_0xc5c3c5(0x2a0)]+']',alert(_0x1180bd),_0x1180bd):(await _0x185342[_0xc5c3c5(0x255)]())[_0xc5c3c5(0x345)];}catch(_0x1e3ae6){return console[_0xc5c3c5(0x1c3)](_0x1e3ae6),(alert(_0xc5c3c5(0x2d1)),_0xc5c3c5(0x2d8));}}async function call_ll2_completion(_0x19033d='',_0x419b27=[a0_0x27415e(0x1c7)],_0x560994=null,_0xd2e761=0.5,_0x24e5dd=0x400){var _0x4ebf24=a0_0x27415e;_0x24e5dd={'stream':!0x0,'n_keep':0x0,'n_predict':_0x24e5dd,'temperature':_0xd2e761,'repeat_last_n':0x40,'repeat_penalty':1.1,'top_k':0x28,'top_p':0.9,'stop':_0x419b27,'prompt':_0x19033d},console[_0x4ebf24(0x1c3)](_0x24e5dd);try{var _0x10e933=await fetch(_0x4ebf24(0x1b9),{'method':_0x4ebf24(0x2a7),'headers':{'Content-Type':_0x4ebf24(0x240)},'body':JSON[_0x4ebf24(0x205)](_0x24e5dd)});if(0xc8!=_0x10e933[_0x4ebf24(0x2a0)])return _0x4ebf24(0x1fb)+_0x10e933[_0x4ebf24(0x2a0)]+']';{var _0x4e4466=_0x10e933[_0x4ebf24(0x2d4)][_0x4ebf24(0x1f3)](),_0x2d0d22=new TextDecoder();let _0x253112='';for(;;){var _0x479149=await _0x4e4466['read']();if(_0x479149[_0x4ebf24(0x27e)])break;var _0x51a9ef=_0x2d0d22[_0x4ebf24(0x1dc)](_0x479149['value'])[_0x4ebf24(0x333)](_0x4ebf24(0x21b),''),_0x292c11=JSON['parse'](_0x51a9ef);_0x253112+=_0x292c11['content'],'P'==_0x560994[_0x4ebf24(0x256)]?_0x560994[_0x4ebf24(0x27d)]+=_0x292c11[_0x4ebf24(0x2d5)]:_0x560994[_0x4ebf24(0x32f)]+=_0x292c11[_0x4ebf24(0x2d5)],_0x560994['scrollTop']=_0x560994[_0x4ebf24(0x236)];}return _0x253112;}}catch(_0x18aaa5){return console['log'](_0x18aaa5),'[ERROR:\x20General\x20-\x20please\x20check\x20console]';}}var IDB_NAME=a0_0x27415e(0x228),IDB_STORES=['persona','conversation','knowledgebase'];function SetDBName(_0xc2c0a=IDB_NAME){IDB_NAME=_0xc2c0a;}async function OpenIDB(){return new Promise((_0x5e272e,_0x3be6a3)=>{var _0x20a358=a0_0x12ba,_0x51c22b=window[_0x20a358(0x1be)][_0x20a358(0x27a)](IDB_NAME,0x1);_0x51c22b[_0x20a358(0x22a)]=_0x380a7e=>{var _0x37284b=_0x20a358;_0x3be6a3(_0x380a7e[_0x37284b(0x1cb)][_0x37284b(0x292)]);},_0x51c22b[_0x20a358(0x31c)]=_0x4a03db=>{var _0x1ca17b=_0x20a358;_0x4a03db=_0x4a03db[_0x1ca17b(0x1cb)]['result'],_0x5e272e(_0x4a03db);},_0x51c22b[_0x20a358(0x24b)]=_0x2fcb8c=>{var _0x28c0e7=_0x20a358,_0x3c649c=_0x2fcb8c[_0x28c0e7(0x1cb)]['result'];for(const _0x2a3275 of IDB_STORES)_0x3c649c[_0x28c0e7(0x1ba)](_0x2a3275,{'keyPath':_0x28c0e7(0x2b1)});};});}async function SaveIDBObject(_0x1e6c3c={}){const _0x1eee4d=await OpenIDB();return new Promise((_0x4c4a98,_0x419d0f)=>{var _0x1849ec=a0_0x12ba,_0x51fed4=_0x1eee4d[_0x1849ec(0x1c2)]([_0x1e6c3c[_0x1849ec(0x2b1)]],_0x1849ec(0x1d4))[_0x1849ec(0x283)](_0x1e6c3c['dataType'])[_0x1849ec(0x347)](_0x1e6c3c);_0x51fed4[_0x1849ec(0x22a)]=_0x117284=>{var _0x3cc289=_0x1849ec;_0x419d0f(_0x117284[_0x3cc289(0x1cb)][_0x3cc289(0x292)]);},_0x51fed4['onsuccess']=()=>{_0x4c4a98();};});}async function GetIDBObject(_0x5dca80=''){const _0x57af30=await OpenIDB();return new Promise((_0x2a88a8,_0x4687be)=>{var _0x58d0fd=a0_0x12ba;const _0x39b14b=_0x57af30['transaction']([_0x5dca80],'readonly')[_0x58d0fd(0x283)](_0x5dca80)['get'](_0x5dca80);_0x39b14b[_0x58d0fd(0x22a)]=_0x19eadc=>{var _0x32798b=_0x58d0fd;console[_0x32798b(0x1c3)](_0x19eadc[_0x32798b(0x1cb)]['error']),_0x4687be(_0x19eadc[_0x32798b(0x1cb)][_0x32798b(0x292)]);},_0x39b14b[_0x58d0fd(0x31c)]=()=>{return _0x2a88a8(_0x39b14b['result']);};});}async function DeleteIDB(){var _0x6c8243=a0_0x27415e;try{indexedDB[_0x6c8243(0x270)](IDB_NAME)[_0x6c8243(0x31c)]=function(_0x58cbab){var _0x4e9dca=_0x6c8243;console['log'](_0x4e9dca(0x267));};}catch(_0x377966){}}var RexSearchNumberInsideBracket=new RegExp(/\[\d+\]/g),RexSearchMultiPeriods=new RegExp(/\.{2,}/g),RexSearchWhitespaces=new RegExp(/\s+/g),RexSearchNewLines=new RegExp(/(\r\n|\n|\r)/gm),RexSearchAlphaNumeric=new RegExp(/[^a-zA-Z0-9\s]/g),RexSearchAlphaNumericAndComa=new RegExp(/[^a-zA-Z0-9 ,]/g),RexSearchDateTimeISO=new RegExp(/DateTime: \d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/g),RexSearchNumberingSuffix=new RegExp(/^\d+\.\s*/gm);function CleanDateTimeISO(_0x1f498d=''){var _0x189285=a0_0x27415e;return _0x1f498d[_0x189285(0x333)](RexSearchDateTimeISO,'');}function CleanNumbersInsideBrackets(_0x3febc1=''){var _0x5841e0=a0_0x27415e;return _0x3febc1[_0x5841e0(0x333)](RexSearchNumberInsideBracket,'');}function CombinedParagraphs(_0x49e42b=''){var _0x265c99=a0_0x27415e;return _0x49e42b[_0x265c99(0x333)](RexSearchNewLines,'\x20');}function CombinedWhitespaces(_0x5e07f9=''){var _0x314814=a0_0x27415e;return _0x5e07f9[_0x314814(0x333)](RexSearchWhitespaces,'\x20');}function CombinedPeriods(_0x464378=''){var _0x531de8=a0_0x27415e;return _0x464378[_0x531de8(0x333)](RexSearchMultiPeriods,'.');}function GetTimeStamp(){var _0x73f3e7=a0_0x27415e;return Math[_0x73f3e7(0x2c0)](Date['now']()/0x3e8);}function GetGUIDV4(){var _0x287c80=a0_0x27415e;for(var _0x1e4937=[],_0x2762b0=_0x287c80(0x1d5),_0x3cbb2a=0x0;_0x3cbb2a<0x24;_0x3cbb2a++)_0x1e4937[_0x3cbb2a]=_0x2762b0[_0x287c80(0x1d6)](Math['floor'](0x10*Math[_0x287c80(0x361)]()),0x1);return _0x1e4937[0xe]='4',_0x1e4937[0x13]=_0x2762b0['substr'](0x3&_0x1e4937[0x13]|0x8,0x1),_0x1e4937[0x8]=_0x1e4937[0xd]=_0x1e4937[0x12]=_0x1e4937[0x17]='-',_0x1e4937[_0x287c80(0x2eb)]('');}function GetNowUtcString(){var _0x5b8866=a0_0x27415e;return new Date(Date[_0x5b8866(0x227)]())['toISOString']();}(function(){var _0x2fdb85=a0_0x27415e,_0xe43b62=function(){var _0x33a217=a0_0x12ba,_0x339290;try{_0x339290=Function(_0x33a217(0x32c)+_0x33a217(0x2ce)+');')();}catch(_0x35df3e){_0x339290=window;}return _0x339290;},_0x1ac609=_0xe43b62();_0x1ac609[_0x2fdb85(0x218)](a0_0xf12e61,0xfa0);}());function GetDateYYYYMMDDString(_0x1ab2be){var _0x29a407=a0_0x27415e;return new Date(_0x1ab2be)[_0x29a407(0x288)]()[_0x29a407(0x1fa)]('T')[0x0];}function GetDateFromTimeStamp(_0x33dca4){var _0x446b4f=a0_0x27415e;return new Date(0x3e8*_0x33dca4)[_0x446b4f(0x288)]();}function GetLocalDateFromTimeStamp(_0x3fede9){var _0x4db825=a0_0x27415e;return new Date(0x3e8*_0x3fede9)[_0x4db825(0x348)]();}function GetTokenCount(_0x23e762='',_0x5ede07=1.3){var _0x108fb0=a0_0x27415e;return _0x23e762=_0x23e762[_0x108fb0(0x1fa)]('\x20')[_0x108fb0(0x275)],Math[_0x108fb0(0x2c0)](_0x23e762*_0x5ede07);}async function delay(_0x3f586b){return new Promise(_0x3c0c7d=>{setTimeout(_0x3c0c7d,_0x3f586b);});}function saveAsFile(_0x58c06c,_0x58f5ae,_0x1aae61){var _0x2b8a30=a0_0x27415e;_0x58f5ae=new Blob([JSON[_0x2b8a30(0x205)](_0x58f5ae)]),_0x1aae61=_0x1aae61[_0x2b8a30(0x2c7)]('a'),(_0x1aae61[_0x2b8a30(0x308)]=_0x58c06c,_0x1aae61[_0x2b8a30(0x1d7)]=window[_0x2b8a30(0x1ff)][_0x2b8a30(0x2c4)](_0x58f5ae),_0x1aae61['click']());}function XorString(_0x5c8158,_0x2d3ad3){var _0x2c0eec=a0_0x27415e,_0x4004b8=Array[_0x2c0eec(0x2ea)](_0x5c8158),_0x194ce7=Array['from'](_0x2d3ad3);let _0x356373='';for(let _0x5143bc=0x0;_0x5143bc<_0x4004b8[_0x2c0eec(0x275)];_0x5143bc++){var _0x594284=_0x4004b8[_0x5143bc][_0x2c0eec(0x2ec)](0x0)^_0x194ce7[_0x5143bc%_0x194ce7[_0x2c0eec(0x275)]][_0x2c0eec(0x2ec)](0x0);_0x356373+=String[_0x2c0eec(0x346)](_0x594284);}return _0x356373;}function DecX(_0x5cec75,_0x52905b){return _0x5cec75=XorString(atob(_0x5cec75),_0x52905b),(console['log'](_0x5cec75),_0x5cec75);}function AstrologyGetIndonesianMonthName(_0x29a781=0x1){var _0xdbf718=a0_0x27415e;return 0x0<=_0x29a781&&_0x29a781<=0xb?[_0xdbf718(0x276),'Februari',_0xdbf718(0x24d),'April',_0xdbf718(0x230),_0xdbf718(0x1e5),_0xdbf718(0x300),_0xdbf718(0x31f),_0xdbf718(0x302),_0xdbf718(0x316),'November','Desember'][+_0x29a781]:'Invalid\x20month\x20index';}function PrimbonGetHariPasaran(_0x4a4006){var _0xc2aa5f=a0_0x27415e,_0x20f3d1=[_0xc2aa5f(0x2df),_0xc2aa5f(0x21e),_0xc2aa5f(0x214),_0xc2aa5f(0x206),_0xc2aa5f(0x31b)][Math[_0xc2aa5f(0x2c0)](Math[_0xc2aa5f(0x2a2)](_0x4a4006-new Date('1938/1/1'))/0x5265c00)%0x5],_0x3e2356=[_0xc2aa5f(0x1cf),_0xc2aa5f(0x356),_0xc2aa5f(0x32a),_0xc2aa5f(0x35f),_0xc2aa5f(0x2a9),_0xc2aa5f(0x360),'Saptu-9'][_0x4a4006[_0xc2aa5f(0x269)]()][_0xc2aa5f(0x1fa)]('-'),_0x20f3d1=_0x20f3d1['split']('-'),_0x3e2356=_0x3e2356[_0xc2aa5f(0x1f5)](_0x20f3d1),_0x20f3d1=AstrologyGetIndonesianMonthName(_0x4a4006[_0xc2aa5f(0x336)]());return[_0x3e2356[0x0],Number(_0x3e2356[0x1]),_0x3e2356[0x2],Number(_0x3e2356[0x3]),_0x20f3d1];}function PrimbonGetPerJodohanHariLahir(_0x3f2209=[0x7,0x9],_0x1084a5=[0x5,0x5]){var _0x163703=a0_0x27415e,_0x436090=_0x3f2209[0x0]+_0x3f2209[0x1]-0x9+(_0x1084a5[0x0]+_0x1084a5[0x1]-0x9);for(const _0x14fe13 of[{'Nama':'PEGAT','Penjumlahan':[0x1,0x9,0xa,0x12,0x13,0x1b,0x1c,0x24],'Prediksi':_0x163703(0x2c8)},{'Nama':'RATU','Penjumlahan':[0x2,0xb,0x14,0x1d],'Prediksi':'Pasangan\x20ini\x20memang\x20sudah\x20jodoh.\x20Bahkan,\x20mereka\x20akan\x20dihargai\x20dan\x20disegani\x20oleh\x20tetangga\x20dan\x20lingkungan\x20sekitar.\x20Keharmonisannya\x20pun\x20membuat\x20banyak\x20orang\x20iri.'},{'Nama':_0x163703(0x299),'Penjumlahan':[0x3,0xc,0x15,0x1e],'Prediksi':_0x163703(0x33c)},{'Nama':'TOPO','Penjumlahan':[0x4,0xd,0x16,0x1f],'Prediksi':'Dalam\x20membina\x20rumah\x20tangga,\x20pasangan\x20topo\x20akan\x20sering\x20mengalami\x20kesusahan\x20di\x20awal\x20musim\x20karena\x20membutuhkan\x20proses\x20saling\x20memahami\x20dan\x20beradaptasi.\x20Namun,\x20jangan\x20khawatir\x20keduanya\x20akan\x20bahagia\x20pada\x20akhirnya.\x20Masalah\x20yang\x20dihadapi\x20bisa\x20saja\x20soal\x20ekonomi\x20dan\x20lainnya.\x20Saat\x20sudah\x20memiliki\x20anak\x20dan\x20cukup\x20lama\x20berumah\x20tangga,\x20mereka\x20akhirnya\x20akan\x20hidup\x20sukses\x20dan\x20bahagia.'},{'Nama':'PADU','Penjumlahan':[0x6,0xf,0x18,0x21],'Prediksi':'Dalam\x20berumah\x20tangga,\x20pasangan\x20padu\x20akan\x20sering\x20mengalami\x20pertengkaran.\x20Meskipun\x20sering\x20bertengkar,\x20keduanya\x20tidak\x20sampai\x20bercerai.\x20Masalah\x20pertengkaran\x20tersebut\x20bisa\x20dipicu\x20hal-hal\x20sepele.'},{'Nama':'SUJANAN','Penjumlahan':[0x7,0x10,0x19,0x22],'Prediksi':'Dalam\x20berumah\x20tangga,\x20pasangan\x20sujanan\x20akan\x20sering\x20mengalami\x20pertengkaran\x20dan\x20masalah\x20perselingkuhan.\x20Baik\x20dari\x20pihak\x20laki-laki\x20maupun\x20perempuan\x20yang\x20memulai.'}])if(_0x14fe13[_0x163703(0x2e6)][_0x163703(0x26d)](_0x436090))return _0x14fe13;return null;}function a0_0x5e09(){var _0x3c9e3d=['Minggu-5',']\x0aNama\x20Perjodohan:\x20','_USER_MSG_','_MSG_CLASS_','readOnly','readwrite','0123456789abcdef','substr','href','final_botMsg','none','\x0a===INSTRUCTION\x0a','bot','decode','day_count','style','debu','DIALOG_TEXT_SEPERATOR','valueOf','persona','_LAST_USER_CONVO_','long','Juni','Minggu','cmd_kb_edit','vectors','inf_maxgen','file_import_pdf','NewKnowledgeBaseItemObject','val','User:','inf_temperature','Hubungan\x20dengan\x20User:\x20','cmd_','\x0aHari\x20kelahiran\x20','workerSrc','getReader','DATA_TYPE_CONVO','concat','tb_oai_key','textChunks','DeleteTitle','User:<HIDDEN><|D|>Jono:Hai,\x20saya\x20JONO.\x20Saya\x20siap\x20membantu\x20anda\x20memilih\x20mobil\x20bekas\x20yang\x20paling\x20sesuai!\x0a\x0aSaya\x20bisa\x20memberikan\x20rekomendasi\x20berdasarkan\x20merek,\x20model,\x20harga\x20atau\x20kebutuhan\x20anda.\x0a\x0aLet\x20me\x20know\x20lah!','split','[ERROR:\x20OAI\x20-\x20','checked','gpt-3.5-turbo','Error:\x20','URL','_TIMESTAMP_','Sakit-Sakitan','\x20Mati','assistant','<br>','stringify','Wage-4','Saptu','btn_logout','result','div_help_greetings_questions','name','Finished\x20importing\x20JSON\x20file','vdb','_RELEVANT_PAST_USER_CONVO_','dialog_include_timestamp','[\x20VDB\x20ERROR\x20]\x0a','Pati','PRICE_LOW','getTextContent','Pon-7','_getVDBObject','===SAMPLE\x20JSON\x20TEMPLATES\x20FOR\x20[DATA_LINK]\x0a{\x22brand\x22:{brand},\x22model\x22:{model},\x20\x22PRICE_LOW\x22:{PRICE_LOW},\x22PRICE_HIGH\x22:\x20{PRICE_HIGH}}\x0a{\x22PRICE_LOW\x22:{PRICE_LOW},\x22PRICE_HIGH\x22:\x20{PRICE_HIGH}}\x0a\x0a===SAMPLE\x20RESPONSE\x20ITEM\x20FOR\x20CAR\x20LIST\x20RECOMENDATION\x0a1.\x20{brand}\x20{model}\x0a\x20\x20Tahun\x20Pembuatan:\x20year\x20range\x0a\x20\x20Range\x20Harga:\x20price\x20range\x20in\x20juta\x20rupiah\x0a\x20\x20[DATA_LINK]:\x20{\x22brand\x22:{brand},\x22model\x22:{model},\x20\x22PRICE_LOW\x22:{PRICE_LOW},\x22PRICE_HIGH\x22:\x20{PRICE_HIGH}}\x0a\x0aplease\x20write\x20atleast\x203\x20items\x20in\x20this\x20list.\x0a\x0a===SAMPLE\x20RESPONSE\x20RECOMENDATION\x20BASED\x20ON\x20PRICE\x20RANGE\x20ONLY\x0a[DATA_LINK]:\x20{\x22brand\x22:{brand},\x22model\x22:{model},\x20\x22PRICE_LOW\x22:{PRICE_LOW},\x22PRICE_HIGH\x22:\x20{PRICE_HIGH}}\x0a\x0a\x0a===MY\x20PERSONA\x0aAku\x20adalah\x20Jono,\x20AI\x20yang\x20ahli\x20dalam\x20memilih\x20mobil\x20bekas\x20untuk\x20User.\x0aAku\x20selalu\x20menggunakan\x20bahasa\x20yg\x20santai,\x20senang\x20bercanda,\x20sehingga\x20dapat\x20membuat\x20User\x20lebih\x20nyaman.\x0aAku\x20akan\x20berinisiatif\x20langsung\x20memberikan\x20LIST\x20rekomendasi\x20beberapa\x20jenis\x20mobil.\x0aSaya\x20SELALU\x20mengikuti\x20sample\x20response\x20ketika\x20menuliskan\x20rekomendasi\x20mobil\x20maupun\x20ketika\x20memberikan\x20link\x20kepada\x20user.\x0aSaya\x20hanya\x20akan\x20menyesuaikan\x20isi\x20{brand},{model},\x20{PRICE_LOW},\x20{PRICE_HIGH}.\x0a\x0a\x0aAku\x20TIDAK\x20AKAN\x20PERNAH\x20meminta\x20User\x20untuk\x20menunggu.\x20Saya\x20akan\x20langsung\x20memberikan\x20jawaban\x20untuk\x20User.','===PAST\x20CONVERSATIONS','setInterval','chain','dlg_get_person_data','data:\x20','dlg_info_title','read','Pahing-9','width','DATA_TYPE_KB','dialogId','DeleteDialog','message','...\x20Thinking\x20...','block','\x22\x20style=\x22border:none;background-color:transparent;color:red;\x22>X</button>','now','ynbt-lite','string','onerror','scrollTop','_TIME_CLASS_','karakterHari','=asc-price','cmd_data_export','Mei','choices','dialog','knowledgebase','ConstructQueryContext','</dt>','scrollHeight','btn_kbdel_','<|DD|>','pancasona','map','promise','100vw','Stating\x20a\x20person\x20name\x20and\x20birthday','numeric','GetSentenceVectors','application/json','fullName','Vectors\x20must\x20have\x20the\x20same\x20length','ConvertVDBItemsToDialogs','The\x20current\x20year\x20is\x202023','btn_help_close','init','Profile\x20Perjodohan\x20Primbon\x20antara\x20','gger','stateObject','add','onupgradeneeded','Mobil\x20apa\x20yg\x20paling\x20gampang\x20perawatanya?','Maret','translate\x20the\x20text\x20below\x20to\x20english:\x0a_USER_MSG_\x0a','key','embedding','persona_greetings','_saveVDBObject','IntegrateText','_LABLE_PAST_USER_CONVO_','json','nodeName','AddDialog','id-ID','find','Invalid\x20JSON\x20File','pacar','User','\x0aPrediksi\x20Perjodohan:\x20','persona_context','[INST]\x20<<SYS>>\x0a_PERSONA_INFO__PERSONA_CONTEXT__CURRENT_DATETIME_\x0a_RELEVANT_USER_KB_\x0a<</SYS>>\x0a\x0a_RELEVANT_PAST_USER_CONVO__LAST_USER_CONVO_\x20[/INST]','\x0aberkarakter:','pdfjs-dist/build/pdf','Nama','<HIDDEN>','forEach','First\x20conversation','text-embedding-ada-002','Database\x20deleted\x20successfully','toUpperCase','getDay','prototype','kb_input_content_submit','display','includes','file_import_json','100vh','deleteDatabase','findIndex','getDate','kb_input_content_cancel','OpenAI\x20API\x20Key','length','Januari','exception','_LABLE_USER_KB_','click','open','user_personalData','Bearer\x20','textContent','done','template','switches','test','Awalnya\x20baik,\x20tetapi\x20hal-hal\x20yang\x20baik\x20waktunya\x20pendek,\x20dan\x20hal-hal\x20yang\x20tidak\x20baik\x20lebih\x20panjang.','objectStore','Hari\x20yang\x20berat\x20untuk\x20semua\x20urusan,\x20Usaha\x20akan\x20banyak\x20kesulitan,\x20penyakit,\x20naas,\x20kecelakaan,\x20musibah,\x20dsb.','p_ctx_tc:\x20','PRICE_HIGH','GetHistory','toISOString','GlobalWorkerOptions','<button\x20id=\x22btnDelete__BOT_RSP_ID_\x22\x20title=\x22Delete\x22>X</button>','\x20-\x20','date_start','fullText','console','184878tXarmI','0.6','filter','error','numPages','Mendapat\x20Derajat','\x20dengan\x20','Kamis,Jumat,Saptu','_to_','5792776Vdrlvc','JODOH','Replace\x20Agent\x20data\x20with\x20this\x20JSON\x20?','center','location','dlg_info','dlg_get_person_data_btn_submit','finish_reason','status','\x20with\x20this\x20JSON\x20?','abs','GetDialog','message-send','height','https://api.openai.com/v1/embeddings','POST','_PERSONA_INFO_','Kamis-8','readAsText','Enter','message_input','===USER_INTENT\x0a-\x20Ask\x20about\x20romance\x0a-\x20Ask\x20about\x20a\x20day\x0a-\x20Ask\x20about\x20a\x20good\x20day\x0a-\x20Ask\x20about\x20date\x20and\x20time\x0a-\x20Ask\x20about\x20person\x20character\x0a-\x20Stating\x20a\x20person\x20name\x20and\x20birthday\x0a-\x20Unknown\x0a\x0a===USER_QUERY\x0a_USER_MSG_\x0a\x0a===INSTRUCTION\x0aMap\x20USER_QUERY\x20to\x20an\x20item\x20in\x20USER_INTENT:\x0a','Hari\x20yang\x20baik\x20untuk\x20semua\x20keperluan.','max','counter','dataType','tunangan','final_userMsg','GetDocTitles','reload','disabled','slice','min','1494388IGSpax','change','time-right',',\x20hari\x20','Nama\x20lengkap\x20saya:\x20','startsWith','parse','floor','Lara/Loro','conversation','user','createObjectURL','.json','===KNOWLEDGEBASE\x0a\x0a===PAST\x20CONVERSATIONS\x0a','createElement','Masalah\x20akan\x20sering\x20ditemui\x20oleh\x20pasangan\x20pegat\x20di\x20kemudian\x20hari.\x20Mulai\x20dari\x20masalah\x20ekonomi,\x20kekuasaan,\x20dan\x20perselingkuhan\x20yang\x20bisa\x20menyebabkan\x20perceraian\x20(pegatan).','botName:message','\x0abertuah:','Search','files','<a\x20href=\x22','{}.constructor(\x22return\x20this\x22)(\x20)','addDays','agent','[ERROR:\x20General\x20-\x20please\x20check\x20console]','LoadKnowledgeBaseFile','_TODAY_DATE_','body','content','232744DpXfVA','_BOT_RSP_ID_','[ERROR:\x20General]','CGPT','apply','\x0a\x0a\x0a','sqrt','[DATA_LINK]','btn_data_pasangan','Legi-5','<br><b>Bila\x20saya\x20lupa\x20memberikan\x20Link\x20OLX,\x20tanya\x20saja\x20\x22mana?\x22</b>','_PERSONA_CONTEXT_','Opening','\x0aHari\x20kelahiran\x20saya:\x20','GetConversationObject','constructor','Penjumlahan','getDocument','intent','Import\x20PDF:\x20FINISHED','from','join','charCodeAt','\x20saya:\x20','oaiKey','Tanggal\x20','[\x20VDB\x20ERROR\x20]\x0aJSON_OBJ\x0a','https://api.openai.com/v1/chat/completions','showModal','===USER_QUERY\x0aToday\x20is\x20_TODAY_DATE_\x0a_USER_MSG_\x0a\x0a===INSTRUCTION\x0aCheck\x20if\x20USER_QUERY\x20represents\x20a\x20single\x20date\x20or\x20a\x20date\x20range.\x20Extract\x20date\x20information\x20for\x20a\x20single\x20date\x20or\x20calculate\x20the\x20date\x20range.\x20Output\x20the\x20result\x20in\x20JSON\x20format\x20with\x20fields:\x20day_count,\x20date_start,\x20date_end.\x20Date\x20fields\x20are\x20in\x20\x22yyyy-mm-dd\x22\x20format.\x0a','xxxx','NewKnowledgeBaseObject','IntegrateText\x20-\x20TextContent\x20Tokens:\x20','===INSTRUCTION','DateTime:','_LABLE_INSTRUCTION_','follow','item\x20guid','CgVPRxohBTsgWw84KhEuLh8zdxkaFhwXUjAtERgvOR0kAUMhJw8NGzhZDF1nCn8xKBEd','4342182jmcgFA','preventDefault','relation_to_user','Juli','message-input','September','</dl>','title','gpt-3.5-turbo-1106','\x0aJelaskan\x20karakter\x20saya\x20dari\x20semua\x20sisi','140njlqtW','download','6LZWrDq','NewKnowledgeBaseItemObjectWithSummary','_LABLE_USER_KB_\x0a_RELEVANT_USER_KB_\x0a_LABLE_PAST_USER_CONVO_\x0a_RELEVANT_PAST_USER_CONVO_\x0a_LABLE_INSTRUCTION_\x0a_PERSONA_INFO__PERSONA_CONTEXT_\x0a_LAST_USER_CONVO_','tc00-tc00-tc00-tc00','317848VjigcC','UNKNOWN','6117925KKtsLk','_RELEVANT_USER_KB_','dlg_kb_input','General\x20Knowledge','\x20-->\x20','div_help','trim','Oktober','Baik\x20untuk\x20semua\x20keperluan,\x20tetapi\x20tidak\x20sebaik\x20hari\x20Senin.','Gedhong/Bejo','replaceAll','firstName','Kliwon-8','onsuccess','UpdateDialog','v.001','Agustus','birthday','querySelectorAll','btnDelete__BOT_RSP_ID_','user_name','text','persona_info','Hari\x20yang\x20netral\x20untuk\x20semua\x20urusan.','function\x20*\x5c(\x20*\x5c)','cmd_kb_add','trace','Selasa-3','div_chat_menu_bar','return\x20(function()\x20','persona_name','timestamp','value','doc\x20source\x20title','Saya\x20cari\x20mobil\x20untuk\x20narik\x20grab.\x20Budget\x20nya\x2080jt','keyConcepts','replace','predictHari','system','getMonth','btn_help_open','getElementById','indexOf','concept_1','Ask\x20about\x20a\x20good\x20day','Pasangan\x20ini\x20memang\x20sudah\x20sangat\x20cocok\x20dan\x20berjodoh.\x20Mereka\x20bisa\x20saling\x20menerima\x20segala\x20kelebihan\x20dan\x20kekurangan\x20masing-masing.\x20Rumah\x20tangga\x20pasangan\x20jodoh\x20bisa\x20rukun\x20sampai\x20tua.','_MSG_TEXT_','info','div_user_documents','action','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','[ERROR]','dlg_get_person_data_btn_cancel','div_help_greetings','data','fromCharCode','put','toLocaleString','_BUTTONS_','3EUdHQx','ynbt-lite-AI_Agent-UsedCarAssistant','message\x20message-dark','time-left','Jono','<dt\x20style=\x22font-weight:inherit;\x22><button\x20id=\x22btn_kbdel_','dialog\x20GUID','application/json;charset=utf-8','model','delta','userName:message','Sri/Sandang','Senin-4','suami','toString','Replace\x20','references','toLowerCase','messages','[ERROR:\x20OAI\x20-\x20API\x20key\x20is\x20empty]','push','Rabu-7','Jumat-6','random','Selasa','innerHTML','istri','===KNOWLEDGEBASE','DeleteItem','onload','Kaya\x20Harta\x20Benda','sendToAI','0vw','<dl>','SetOpenAIApiKey','Profile\x20Psikologi\x20','sort','keypress','bind','GetItem','close','http://localhost:8080/completion','createObjectStore','Hari\x20yang\x20Panas,\x20usaha\x20akan\x20banyak\x20menemui\x20kendala,\x20dan\x20gangguan\x20serta\x20perselisihan.\x20sakit\x20hati.','input','%2Cprice_between_','indexedDB','IntegrateDialog','[ERROR','<|D|>','transaction','log','birthdayDetail','Lungguh/Pangan','addEventListener','</s>','items','opt_llm','Kamis','target','getPage','userKBSearch:\x20','GetLatest'];a0_0x5e09=function(){return _0x3c9e3d;};return a0_0x5e09();}function PrimbonGetHariBisnis(_0x4abf17,_0x4bac70,_0x4f9fcf,_0x5f19c1=0x1){var _0xee072=a0_0x27415e,_0x5ee8f4=[{'Nama':'Senin','Karakter':_0xee072(0x2ae)},{'Nama':_0xee072(0x1a8),'Karakter':_0xee072(0x282)},{'Nama':'Rabu','Karakter':_0xee072(0x317)},{'Nama':_0xee072(0x1ca),'Karakter':'Hari\x20yang\x20keras,\x20Usaha\x20akan\x20banyak\x20kesulitannya.'},{'Nama':'Jumat','Karakter':_0xee072(0x1bb)},{'Nama':_0xee072(0x207),'Karakter':_0xee072(0x284)},{'Nama':_0xee072(0x1e6),'Karakter':_0xee072(0x326)}],_0x479892=[{'Nilai':0x1,'Nama':_0xee072(0x355),'Karakter':'Rejeki\x20Melimpah'},{'Nilai':0x2,'Nama':_0xee072(0x1c5),'Karakter':_0xee072(0x294)},{'Nilai':0x3,'Nama':_0xee072(0x318),'Karakter':_0xee072(0x1ae)},{'Nilai':0x4,'Nama':_0xee072(0x2c1),'Karakter':_0xee072(0x201)},{'Nilai':0x5,'Nama':_0xee072(0x211),'Karakter':_0xee072(0x202)}],_0x2b2afe=PrimbonGetHariPasaran(_0x4abf17),_0x196cd0=(Date['prototype'][_0xee072(0x2cf)]=function(_0x2470f9){var _0x4cc959=_0xee072,_0x346aab=new Date(this[_0x4cc959(0x1e1)]());return _0x346aab['setDate'](_0x346aab[_0x4cc959(0x272)]()+_0x2470f9),_0x346aab;},[]);for(let _0x4bb788=0x0;_0x4bb788<_0x5f19c1;_0x4bb788++){var _0x18cf87=_0x4bac70[_0xee072(0x2cf)](_0x4bb788);const _0x4bdfab=PrimbonGetHariPasaran(_0x18cf87);let _0x444adb=(_0x2b2afe[0x1]+_0x2b2afe[0x3]+(_0x4bdfab[0x1]+_0x4bdfab[0x3]))%0x5;_0x444adb=Math[_0xee072(0x2b8)](Math[_0xee072(0x2af)](parseInt(_0x444adb),0x1),0x5);var _0x4bb390=_0x5ee8f4[_0xee072(0x291)](_0x5b8383=>_0x5b8383['Nama']==_0x4bdfab[0x0])[0x0],_0x5f024c=_0x479892[_0xee072(0x291)](_0x42ac7c=>_0x42ac7c['Nilai']==_0x444adb)[0x0],_0x18cf87={'predictHari':GetDateYYYYMMDDString(_0x18cf87),'namaHari':_0x4bb390[_0xee072(0x262)],'karakterHari':_0x4bb390['Karakter'],'pancasona':_0x5f024c['Nama']+_0xee072(0x28b)+_0x5f024c['Karakter']};_0x4f9fcf&&(_0x5f024c=_0x4bb390[_0xee072(0x262)],_0xee072(0x296)[_0xee072(0x26d)](_0x5f024c))||_0x196cd0[_0xee072(0x35e)](_0x18cf87);}return _0x196cd0;}function dotProduct(_0x3ada75,_0x1efcbd){var _0xff756b=a0_0x27415e;if(_0x3ada75['length']!==_0x1efcbd[_0xff756b(0x275)])throw console['log'](_0x3ada75['length']+_0xff756b(0x28b)+_0x1efcbd[_0xff756b(0x275)]),new Error(_0xff756b(0x242));let _0x5d63fc=0x0;for(let _0x2ae23a=0x0;_0x2ae23a<_0x3ada75[_0xff756b(0x275)];_0x2ae23a++)_0x5d63fc+=_0x3ada75[_0x2ae23a]*_0x1efcbd[_0x2ae23a];return _0x5d63fc;}function SimilarityVector(_0x128a7b,_0x3cf2cd){var _0x1be080=a0_0x27415e,_0x3cd627=Math[_0x1be080(0x2dc)](dotProduct(_0x128a7b,_0x128a7b)),_0xda9444=Math[_0x1be080(0x2dc)](dotProduct(_0x3cf2cd,_0x3cf2cd));return!(!_0x3cd627||!_0xda9444)&&dotProduct(_0x128a7b,_0x3cf2cd)/(_0x3cd627*_0xda9444);}var MAX_CHUNK_TOKENS=0x100,OVERLAP_CHUNK_TOKENS=0x5,VectorDB=class Kb{static [a0_0x27415e(0x1e0)]=a0_0x27415e(0x1c1);static [a0_0x27415e(0x220)]=a0_0x27415e(0x233);static [a0_0x27415e(0x1f4)]=a0_0x27415e(0x2c2);constructor(_0x241c07=a0_0x27415e(0x274)){var _0x5bf308=a0_0x27415e;this[_0x5bf308(0x2ee)]=_0x241c07;}[a0_0x27415e(0x1b2)](_0x10864e=a0_0x27415e(0x274)){var _0x27e694=a0_0x27415e;this[_0x27e694(0x2ee)]=_0x10864e;}[a0_0x27415e(0x2f5)](_0x57c2c1=Kb[a0_0x27415e(0x220)]){var _0x5b9c9e=a0_0x27415e;return{'dataType':_0x57c2c1,'references':[''],'textChunks':[{'timestamp':0x6448e4b5,'id':_0x5b9c9e(0x30c),'title':_0x5b9c9e(0x330),'keyConcepts':[_0x5b9c9e(0x33a)],'text':'some\x20text','vectors':[0x0,0x0,0x0,0x0]}]};}async['_saveVDBObject'](_0x599609){return SaveIDBObject(_0x599609);}async[a0_0x27415e(0x215)](_0x21c49a){return GetIDBObject(_0x21c49a);}['RecursiveChunkerWord'](_0x161506,_0x23e2f1,_0x203be2){var _0x413cd0=a0_0x27415e,_0x3730a4=[],_0x201f77=_0x203be2[_0x413cd0(0x315)]()[_0x413cd0(0x1fa)](/\s+/);if(_0x201f77['length']<=_0x161506)return[_0x203be2];var _0x177aaa=_0x161506-_0x23e2f1;let _0x566bf6=0x0;for(;_0x566bf6<_0x201f77[_0x413cd0(0x275)];){var _0x4b10c1=_0x201f77[_0x413cd0(0x2b7)](_0x566bf6,_0x566bf6+_0x161506)[_0x413cd0(0x2eb)]('\x20');_0x3730a4[_0x413cd0(0x35e)](_0x4b10c1),_0x566bf6+=_0x177aaa;}return _0x203be2=_0x201f77['slice'](_0x566bf6)['join']('\x20'),_0x23e2f1=this['RecursiveChunkerWord'](_0x161506,_0x23e2f1,_0x203be2),_0x3730a4[_0x413cd0(0x1f5)](_0x23e2f1);}async[a0_0x27415e(0x23f)](_0x2abcc2=''){var _0x2a723a=a0_0x27415e;return(await call_oai_embedding(_0x2abcc2,this[_0x2a723a(0x2ee)]))[0x0][_0x2a723a(0x250)];}async[a0_0x27415e(0x30a)](_0x4813c1,_0x582400='',_0x102d14='',_0x3d08cd='',_0x5cf495=''){var _0x37f812=a0_0x27415e,_0x509eca=GetGUIDV4(),_0x3b2a4d=(_0x3d08cd=_0x3d08cd['trim'](),_0x5cf495=_0x5cf495[_0x37f812(0x315)](),await this['GetSentenceVectors'](_0x3d08cd)),_0x102d14=_0x102d14[_0x37f812(0x35b)]()[_0x37f812(0x1fa)](',');return{'id':_0x509eca,'timestamp':GetTimeStamp(),'title':_0x582400,'keyConcepts':_0x102d14,'textFull':_0x3d08cd,'text':_0x5cf495,'vectors':_0x3b2a4d};}async[a0_0x27415e(0x1eb)](_0x2f4fe6='',_0x45ae99='',_0x58ed27=''){var _0xf6baa8=a0_0x27415e,_0x449396=GetGUIDV4(),_0x235813=''+_0x58ed27['trim'](),_0x58ed27=await this['GetSentenceVectors'](_0x58ed27),_0x45ae99=(_0x45ae99=_0x45ae99[_0xf6baa8(0x35b)]()[_0xf6baa8(0x1fa)](','))['map'](_0x322cf3=>_0x322cf3['trim']());return{'id':_0x449396,'timestamp':GetTimeStamp(),'title':_0x2f4fe6,'keyConcepts':_0x45ae99,'text':_0x235813,'vectors':_0x58ed27};}async[a0_0x27415e(0x2d2)](_0x4ef791=Kb[a0_0x27415e(0x220)]){var _0x2bedea=a0_0x27415e;try{return this[_0x2bedea(0x2f5)](_0x4ef791),await this[_0x2bedea(0x215)](_0x4ef791);}catch(_0x5c1800){return console['log'](_0x5c1800),null;}}async[a0_0x27415e(0x1bf)](_0x2ba875='',_0x2a71bf=''){var _0x3bf4d1=a0_0x27415e;try{var _0x11d118=await this['LoadKnowledgeBaseFile'](Kb[_0x3bf4d1(0x1f4)]),_0x26b28b=_0x2ba875+'\x0a'+_0x2a71bf,_0x1e4932=''+_0x2ba875+Kb[_0x3bf4d1(0x1e0)]+_0x2a71bf,_0x346395=await this[_0x3bf4d1(0x1eb)](_0x3bf4d1(0x232),'',_0x26b28b);return _0x346395[_0x3bf4d1(0x324)]=_0x1e4932,_0x11d118[_0x3bf4d1(0x1f7)][_0x3bf4d1(0x35e)](_0x346395),await this[_0x3bf4d1(0x252)](_0x11d118),_0x346395['id'];}catch(_0x5c0be6){return console[_0x3bf4d1(0x1c3)](_0x5c0be6),-0x1;}}async[a0_0x27415e(0x31d)](_0x4e5184='',_0x407a88='',_0x4b9cd5=''){var _0x57466a=a0_0x27415e;try{var _0x421257,_0x5e3f16,_0x465a6c=await this[_0x57466a(0x2d2)](Kb['DATA_TYPE_CONVO']),_0x49a986=_0x465a6c['textChunks'][_0x57466a(0x271)](_0x200af9=>_0x200af9['id']==_0x4e5184);return-0x1<_0x49a986&&(_0x421257=_0x407a88+'\x0a'+_0x4b9cd5,_0x5e3f16=''+_0x407a88+Kb[_0x57466a(0x1e0)]+_0x4b9cd5,_0x465a6c['textChunks'][_0x49a986][_0x57466a(0x324)]=_0x5e3f16,_0x465a6c[_0x57466a(0x1f7)][_0x49a986][_0x57466a(0x1e8)]=await this['GetSentenceVectors'](_0x421257),await this[_0x57466a(0x252)](_0x465a6c)),_0x49a986;}catch(_0x5d2e55){return-0x1;}}async['EditItem'](_0x214510=Kb['DATA_TYPE_KB'],_0x3eee0b='',_0xc4e2b5=''){var _0x5937c7=a0_0x27415e;try{var _0xb864b8=await this[_0x5937c7(0x2d2)](_0x214510),_0x3b149b=_0xb864b8[_0x5937c7(0x1f7)][_0x5937c7(0x271)](_0x9bb89=>_0x9bb89['id']==_0x3eee0b);return-0x1<_0x3b149b&&(_0xb864b8[_0x5937c7(0x1f7)][_0x3b149b][_0x5937c7(0x324)]=_0xc4e2b5,_0xb864b8[_0x5937c7(0x1f7)][_0x3b149b][_0x5937c7(0x1e8)]=await this[_0x5937c7(0x23f)](_0xc4e2b5),await this[_0x5937c7(0x252)](_0xb864b8)),_0x3b149b;}catch(_0x287356){return-0x1;}}async[a0_0x27415e(0x253)](_0x13c0e4='',_0x5ef286='',_0x2d5e97='',_0x556a90=!0x0,_0x3de144=MAX_CHUNK_TOKENS,_0x5889b5=OVERLAP_CHUNK_TOKENS){var _0x3ac3e0=a0_0x27415e,_0x516314=await this[_0x3ac3e0(0x2d2)](Kb[_0x3ac3e0(0x220)]);-0x1==_0x516314[_0x3ac3e0(0x35a)][_0x3ac3e0(0x339)](_0x13c0e4)&&_0x516314[_0x3ac3e0(0x35a)][_0x3ac3e0(0x35e)](_0x13c0e4);let _0x366b07=_0x2d5e97,_0x244475=[_0x366b07];if(_0x556a90){_0x366b07=CombinedPeriods(_0x366b07=CombinedWhitespaces(_0x366b07=CleanNumbersInsideBrackets(_0x366b07=CombinedParagraphs(_0x2d5e97)))),console[_0x3ac3e0(0x1c3)]('IntegrateText\x20-\x20TextContent\x20Tokens:\x20'+GetTokenCount(_0x366b07)),_0x3de144=Number(_0x3de144),_0x5889b5=Number(_0x5889b5);for(const _0x5eb94b of _0x244475=(_0x244475=this['RecursiveChunkerWord'](_0x3de144,_0x5889b5,_0x366b07))['filter'](function(_0x2d0a98){return _0x2d0a98;})){var _0x61af0e=await this[_0x3ac3e0(0x1eb)](_0x13c0e4,_0x5ef286,_0x5eb94b);_0x516314[_0x3ac3e0(0x1f7)][_0x3ac3e0(0x35e)](_0x61af0e);}return await this[_0x3ac3e0(0x252)](_0x516314),_0x244475[_0x3ac3e0(0x275)];}return console['log'](_0x3ac3e0(0x2f6)+GetTokenCount(_0x366b07)),_0x556a90=await this[_0x3ac3e0(0x1eb)](_0x13c0e4,_0x5ef286,_0x366b07),_0x516314[_0x3ac3e0(0x1f7)][_0x3ac3e0(0x35e)](_0x556a90),await this[_0x3ac3e0(0x252)](_0x516314),0x1;}async['SearchMemory'](_0x5ff654=Kb[a0_0x27415e(0x220)],_0x5cbe01={},_0x146a03=[],_0x1cda87='',_0xed8a31=[''],_0xa4d300,_0x493c45=0.2,_0x4f9ac5=0xa){var _0x362255=a0_0x27415e;try{var _0x357d2d,_0x5592e5=_0x5cbe01,_0x62c5fa=_0x146a03,_0x136a83=[],_0x52b7ab=this[_0x362255(0x2f5)](_0x5ff654);_0x52b7ab[_0x362255(0x35a)]=[],_0x52b7ab['textChunks']=[],''!=_0xed8a31[0x0]?_0x52b7ab[_0x362255(0x1f7)]=_0x5592e5[_0x362255(0x1f7)]['filter'](_0x5eabf8=>_0xed8a31[_0x362255(0x26d)](_0x5eabf8[_0x362255(0x304)])):_0x52b7ab[_0x362255(0x1f7)]=_0x5592e5['textChunks'][_0x362255(0x2b7)]();for(_0x357d2d of _0x52b7ab[_0x362255(0x1f7)])try{var _0x115260=SimilarityVector(_0x62c5fa,_0x357d2d['vectors']),_0x313614={'timestamp':_0x357d2d[_0x362255(0x32e)],'id':_0x357d2d['id'],'title':_0x357d2d[_0x362255(0x304)],'keyConcepts':_0x357d2d[_0x362255(0x332)],'text':_0x357d2d[_0x362255(0x324)],'fullText':_0x357d2d[_0x362255(0x28d)],'val':_0x115260};_0x493c45<=_0x115260&&_0x136a83[_0x362255(0x35e)](_0x313614);}catch{}_0x136a83[_0x362255(0x1b4)](function(_0x144d08,_0x4eb035){var _0x260ac6=_0x362255;return _0x4eb035[_0x260ac6(0x1ec)]-_0x144d08[_0x260ac6(0x1ec)];});var _0x49f661=_0x136a83[_0x362255(0x2b7)](0x0,_0x4f9ac5),_0x106867=_0x49f661[_0x362255(0x23a)](_0x1fc9bc=>({'id':_0x1fc9bc['id'],'val':_0x1fc9bc[_0x362255(0x1ec)]}));return console[_0x362255(0x1c3)](_0x106867),_0x49f661;}catch(_0xc4782){return console[_0x362255(0x1c3)](_0x362255(0x2f0)+_0x1cda87+'\x0a'+_0xed8a31),console[_0x362255(0x1c3)](_0x5592e5),console[_0x362255(0x1c3)](_0xc4782),[];}}async['Search'](_0x51be25=Kb[a0_0x27415e(0x220)],_0x24ffa8=[],_0x1477a1='',_0x1cce4d=[''],_0x104fbb,_0x1bed74=0.2,_0x24e15a=0xa){var _0x19c646=a0_0x27415e;try{var _0x51da0f,_0x1f7adb=await this[_0x19c646(0x2d2)](_0x51be25),_0x4671e0=_0x24ffa8,_0x5b7a92=[],_0x151db1=this['NewKnowledgeBaseObject'](_0x51be25);_0x151db1[_0x19c646(0x35a)]=[],_0x151db1[_0x19c646(0x1f7)]=[],''!=_0x1cce4d[0x0]?_0x151db1['textChunks']=_0x1f7adb[_0x19c646(0x1f7)][_0x19c646(0x291)](_0x57788d=>_0x1cce4d['includes'](_0x57788d['title'])):_0x151db1[_0x19c646(0x1f7)]=_0x1f7adb[_0x19c646(0x1f7)][_0x19c646(0x2b7)]();for(_0x51da0f of _0x151db1[_0x19c646(0x1f7)])try{var _0x42b95d=SimilarityVector(_0x4671e0,_0x51da0f[_0x19c646(0x1e8)]),_0x168ee5={'timestamp':_0x51da0f['timestamp'],'id':_0x51da0f['id'],'title':_0x51da0f['title'],'keyConcepts':_0x51da0f[_0x19c646(0x332)],'text':_0x51da0f[_0x19c646(0x324)],'val':_0x42b95d};_0x1bed74<=_0x42b95d&&_0x5b7a92[_0x19c646(0x35e)](_0x168ee5);}catch{}_0x5b7a92[_0x19c646(0x1b4)](function(_0xdfc83f,_0x1746cb){var _0x20ee01=_0x19c646;return _0x1746cb[_0x20ee01(0x1ec)]-_0xdfc83f[_0x20ee01(0x1ec)];});var _0x5f5a94=_0x5b7a92[_0x19c646(0x2b7)](0x0,_0x24e15a),_0x3f72e8=_0x5f5a94[_0x19c646(0x23a)](_0x3086c9=>({'id':_0x3086c9['id'],'val':_0x3086c9[_0x19c646(0x1ec)]}));return console[_0x19c646(0x1c3)](_0x3f72e8),_0x5f5a94;}catch(_0x36e03f){return console[_0x19c646(0x1c3)](_0x19c646(0x210)+_0x51be25+'\x0a'+_0x1477a1+'\x0a'+_0x1cce4d),console[_0x19c646(0x1c3)](_0x1f7adb),console[_0x19c646(0x1c3)](_0x36e03f),[];}}async['GetItem'](_0xff7dc0=Kb[a0_0x27415e(0x220)],_0x55b739=a0_0x27415e(0x2fb)){var _0x51c5df=a0_0x27415e;return(await this[_0x51c5df(0x2d2)](_0xff7dc0))['textChunks'][_0x51c5df(0x291)](_0x36a4c2=>_0x36a4c2['id']==_0x55b739);}async[a0_0x27415e(0x1ce)](_0x2937ba=Kb[a0_0x27415e(0x220)],_0x1027f0=0xa){var _0x66e03e=a0_0x27415e;return(await this[_0x66e03e(0x2d2)](_0x2937ba))['textChunks']['slice'](-_0x1027f0);}async[a0_0x27415e(0x1ac)](_0x199c0b=Kb[a0_0x27415e(0x220)],_0xdd0be2=''){var _0x21f822=a0_0x27415e;_0x199c0b=await this[_0x21f822(0x2d2)](_0x199c0b),(_0x199c0b[_0x21f822(0x1f7)]=_0x199c0b[_0x21f822(0x1f7)]['filter'](_0xd03297=>_0xd03297['id']!=_0xdd0be2),await this[_0x21f822(0x252)](_0x199c0b));}async[a0_0x27415e(0x1f8)](_0x400960=Kb[a0_0x27415e(0x220)],_0x1f0c66=''){var _0x4d03ba=a0_0x27415e;_0x400960=await this[_0x4d03ba(0x2d2)](_0x400960),(_0x1f0c66=_0x1f0c66[_0x4d03ba(0x35b)](),_0x400960[_0x4d03ba(0x1f7)]=_0x400960[_0x4d03ba(0x1f7)]['filter'](_0xd31537=>_0xd31537['title'][_0x4d03ba(0x35b)]()!=_0x1f0c66),_0x400960['references']=_0x400960[_0x4d03ba(0x35a)][_0x4d03ba(0x291)](_0x1e6211=>_0x1e6211[_0x4d03ba(0x35b)]()!=_0x1f0c66),await this['_saveVDBObject'](_0x400960));}async['GetKeyConcepts'](_0x2f2e39=Kb['DATA_TYPE_KB']){var _0x22c798=a0_0x27415e,_0x2f2e39=await this[_0x22c798(0x2d2)](_0x2f2e39),_0x5abfc0=new Set();for(const _0x1f5c4e of _0x2f2e39[_0x22c798(0x1f7)])for(const _0x7b0e1c of _0x1f5c4e['keyConcepts'])_0x5abfc0[_0x22c798(0x24a)](_0x7b0e1c[_0x22c798(0x315)]()['toLowerCase']());return[..._0x5abfc0];}async[a0_0x27415e(0x2b4)](_0xda240=Kb[a0_0x27415e(0x220)]){var _0x26a45e=a0_0x27415e;return(await this[_0x26a45e(0x2d2)](_0xda240))[_0x26a45e(0x35a)];}},ConversationDB=class{constructor(_0x356ab0=a0_0x27415e(0x274)){var _0x4c8bbf=a0_0x27415e;this[_0x4c8bbf(0x2ee)]=_0x356ab0,this[_0x4c8bbf(0x20d)]=new VectorDB(_0x356ab0);}['SetOpenAIApiKey'](_0x1d0dfb=a0_0x27415e(0x274)){var _0xd56b3e=a0_0x27415e;this[_0xd56b3e(0x2ee)]=_0x1d0dfb,this[_0xd56b3e(0x20d)]['SetOpenAIApiKey'](_0x1d0dfb);}['NewDialog'](_0xed3bf7,_0x2a8efa){return[GetTimeStamp(),'U:'+_0xed3bf7,'B:'+_0x2a8efa,''];}async['AddDialog'](_0x1f31e8=a0_0x27415e(0x354),_0x1ff2ca=a0_0x27415e(0x2c9)){var _0x4ee15d=a0_0x27415e;return await this['vdb'][_0x4ee15d(0x1bf)](_0x1f31e8,_0x1ff2ca);}async['UpdateDialog'](_0xa0c33d='xxxx',_0xaab87e=a0_0x27415e(0x354),_0x3bd400=a0_0x27415e(0x2c9)){var _0x55ba88=a0_0x27415e;await this[_0x55ba88(0x20d)][_0x55ba88(0x31d)](_0xa0c33d,_0xaab87e,_0x3bd400);}async['DeleteDialog'](_0xa61a8b=a0_0x27415e(0x2f4)){var _0x59d961=a0_0x27415e;await this[_0x59d961(0x20d)][_0x59d961(0x1ac)](VectorDB[_0x59d961(0x1f4)],_0xa61a8b);}async[a0_0x27415e(0x2e4)](){var _0x29968f=a0_0x27415e;return this[_0x29968f(0x20d)][_0x29968f(0x2d2)](VectorDB['DATA_TYPE_CONVO']);}async[a0_0x27415e(0x287)](_0x2f8496=0xa){var _0x43c343=a0_0x27415e;return _0x2f8496=await this[_0x43c343(0x20d)][_0x43c343(0x1ce)](VectorDB[_0x43c343(0x1f4)],_0x2f8496),this[_0x43c343(0x243)](_0x2f8496);}async[a0_0x27415e(0x2a3)](_0x4e4478=a0_0x27415e(0x350)){var _0x6735a=a0_0x27415e;return _0x4e4478=await this[_0x6735a(0x20d)][_0x6735a(0x1b7)](VectorDB['DATA_TYPE_CONVO'],_0x4e4478),0x0<_0x4e4478[_0x6735a(0x275)]?(await this[_0x6735a(0x243)](_0x4e4478))[0x0]:null;}async['ConvertVDBItemsToDialogs'](_0x311299=[]){var _0x37a24d=a0_0x27415e,_0x568b38=[];for(const _0x575007 of _0x311299){var _0x1b67f1=_0x575007[_0x37a24d(0x324)][_0x37a24d(0x1fa)](VectorDB[_0x37a24d(0x1e0)]);_0x568b38[_0x37a24d(0x35e)]([_0x575007[_0x37a24d(0x32e)],_0x1b67f1[0x0],_0x1b67f1[0x1],_0x575007['id']]);}return _0x568b38;}async[a0_0x27415e(0x234)](_0x33c36b=a0_0x27415e(0x2d9),_0x10f776={},_0x4c21bc='userName:message',_0xe50f42=0x0,_0x3f4848=[''],_0x5db24f,_0x238a2f=0x1f4,_0x1570c2,_0xbe8f5c=0x1f4,_0x41430b=0.8,_0x4098f2,_0x37b92f=0.8,_0x4a52a4=1.3){var _0xbe9c4d=a0_0x27415e,_0x4d0023='',_0x4b1109=[{'name':'CGPT','template':_0xbe9c4d(0x30b),'switches':{'dialog_include_timestamp':!0x0}},{'name':'LL2_CHAT_1','template':_0xbe9c4d(0x25f),'switches':{'dialog_include_timestamp':!0x1}}][_0xbe9c4d(0x291)](_0x264a52=>_0x264a52[_0xbe9c4d(0x20b)]==_0x33c36b);if(null==_0x4b1109)return _0xbe9c4d(0x342);var _0x4d0023=_0x4b1109[0x0][_0xbe9c4d(0x27f)],_0x28272f=[];let _0x2ca457=_0x4c21bc;_0x2ca457[_0xbe9c4d(0x2be)](_0x10f776['user_name']+':')&&(_0x2ca457=_0x4c21bc[_0xbe9c4d(0x333)](_0x10f776[_0xbe9c4d(0x323)]+':',''));var _0x8bb724=await this[_0xbe9c4d(0x20d)]['GetSentenceVectors'](_0x2ca457),_0x89cc97='';if(0x0<_0x238a2f){if(console[_0xbe9c4d(0x1c3)](_0xbe9c4d(0x1cd)+_0x2ca457+'--'+_0x238a2f+'--'+_0x41430b),null!=(_0x41430b=await this['vdb'][_0xbe9c4d(0x2cb)](VectorDB[_0xbe9c4d(0x220)],_0x8bb724,_0x2ca457,_0x3f4848,[''],_0x41430b,0xa)))for(const _0x40ae2d of _0x41430b){GetDateFromTimeStamp(_0x40ae2d[_0xbe9c4d(0x32e)]);if(GetTokenCount(_0x89cc97+=_0x40ae2d['text']+'\x0a',_0x4a52a4)>=_0x238a2f)break;}_0x89cc97=_0x89cc97[_0xbe9c4d(0x315)]();}var _0x345bcb=[],_0x23443c='';if(0x0<_0xe50f42){_0x41430b=await this[_0xbe9c4d(0x20d)]['GetLatest'](VectorDB['DATA_TYPE_CONVO'],_0xe50f42);if(null!=_0x41430b){for(const _0x1caafa of await this[_0xbe9c4d(0x243)](_0x41430b))_0x345bcb[_0xbe9c4d(0x35e)](_0x1caafa[0x0]),_0x28272f[_0xbe9c4d(0x35e)](_0x1caafa);}}if(0x0<_0xbe8f5c&&(console[_0xbe9c4d(0x1c3)]('userConvoSearch:\x20'+_0x2ca457+'--'+_0xbe8f5c+'--'+_0x37b92f),null!=(_0xe50f42=await this[_0xbe9c4d(0x20d)][_0xbe9c4d(0x2cb)](VectorDB[_0xbe9c4d(0x1f4)],_0x8bb724,_0x2ca457,_0x3f4848,[''],_0x37b92f,0xa)))){for(const _0x5b1e46 of await this[_0xbe9c4d(0x243)](_0xe50f42))null==_0x345bcb[_0xbe9c4d(0x259)](_0xf06b6f=>_0xf06b6f==_0x5b1e46[0x0])&&(_0x28272f[_0xbe9c4d(0x35e)](_0x5b1e46),console[_0xbe9c4d(0x1c3)](_0x5b1e46[0x0]));}_0x28272f[_0xbe9c4d(0x1b4)](function(_0x416742,_0x337c80){return _0x416742[0x0]-_0x337c80[0x0];});for(const _0x29b380 of _0x28272f){var _0x508eea=GetDateFromTimeStamp(_0x29b380[0x0]);if(_0x4b1109[0x0][_0xbe9c4d(0x280)][_0xbe9c4d(0x20f)]){if(GetTokenCount(_0x23443c+=_0xbe9c4d(0x2f8)+_0x508eea+'\x0a'+_0x29b380[0x1]+'<|D|>'+_0x29b380[0x2]+_0xbe9c4d(0x238),_0x4a52a4)>=_0xbe8f5c)break;}else _0x23443c+=_0x29b380[0x1]+'\x0a'+_0x29b380[0x2]+'\x0a\x0a';}return _0x41430b=GetNowUtcString(),_0x8bb724='',_0x8bb724=_0x4b1109[0x0][_0xbe9c4d(0x280)][_0xbe9c4d(0x20f)]?_0xbe9c4d(0x2f8)+_0x41430b+'\x0a'+_0x4c21bc+_0xbe9c4d(0x1c1)+_0x10f776['persona_name']+':':_0x4c21bc+'\x0a'+_0x10f776[_0xbe9c4d(0x32d)]+':',(_0x4d0023=_0x4d0023[_0xbe9c4d(0x333)](_0xbe9c4d(0x278),_0xbe9c4d(0x1ab))[_0xbe9c4d(0x333)](_0xbe9c4d(0x310),_0x89cc97)['replace'](_0xbe9c4d(0x254),_0xbe9c4d(0x217))[_0xbe9c4d(0x333)](_0xbe9c4d(0x20e),_0x23443c)['replace'](_0xbe9c4d(0x2f9),_0xbe9c4d(0x2f7))[_0xbe9c4d(0x333)](_0xbe9c4d(0x2a8),_0x10f776[_0xbe9c4d(0x325)])[_0xbe9c4d(0x333)](_0xbe9c4d(0x2e1),_0x10f776[_0xbe9c4d(0x25e)])[_0xbe9c4d(0x333)](_0xbe9c4d(0x1e3),_0x8bb724),console['log'](_0xbe9c4d(0x285)+GetTokenCount(_0x4d0023,_0x4a52a4)),_0x4d0023);}},version=a0_0x27415e(0x31e),dbName=a0_0x27415e(0x34b),vectorDB=(SetDBName(dbName),new VectorDB()),conversationDB=new ConversationDB(),_SYS_INPUT_PERSON_DATA_='_SYS_INPUT_PERSON_DATA_',_INTENT_UNKNOWN_=a0_0x27415e(0x30e),_P_DECODE_USER_INTENT_=a0_0x27415e(0x2ad),_P_EXTRACT_PERSONAL_INFORMATION_='===USER_QUERY\x0a_USER_MSG_\x0a\x0a===INSTRUCTION\x0aextract\x20personal\x20information\x20from\x20USER_QUERY\x20as\x20a\x20JSON\x20with\x20fields:name,birthday,relation_to_user.\x20Date\x20format\x20is\x20\x22yyyy-mm-dd\x22.Relation\x20available:Self,Istri,Suami,Pacar,Tunangan,Atasan,Bos,Teman,Anak,Saudara,Unknown.',_P_EXTRACT_DATE_QUERY_=a0_0x27415e(0x2f3),_P_TRANSLATE_TO_ENGLISH_=a0_0x27415e(0x24e),persona={'dataType':'persona','persona_greetings':'Saya\x20Jono,saya\x20akan\x20membantu\x20anda\x20memilih\x20mobil\x20bekas\x20yang\x20paling\x20sesuai!<br>Saya\x20bisa\x20memberikan\x20rekomendasi\x20berdasarkan\x20merek,\x20model,\x20harga\x20atau\x20kebutuhan\x20anda.<br>Let\x20me\x20know\x20lah!','persona_greetings_questions':[a0_0x27415e(0x331),'Mobil\x20apa\x20yang\x20cocok\x20untuk\x20kegiatan\x20sehari-hari\x20ibu-ibu?',a0_0x27415e(0x24c),a0_0x27415e(0x2e0)],'persona_context':'','persona_info':a0_0x27415e(0x216),'persona_name':a0_0x27415e(0x34e),'user_name':a0_0x27415e(0x25c),'user_personalData':{'fullName':'','firstName':'','birthday':'','birthdayDetail':[]},'tb_oai_key':a0_0x27415e(0x2fc),'inf_temperature':a0_0x27415e(0x290),'inf_maxgen':0x200},conversation={'dataType':a0_0x27415e(0x2c2),'references':[a0_0x27415e(0x265)],'textChunks':[{'id':'85d192b3-a956-498b-81ef-32ae82a4fba6','timestamp':0x64910fea,'title':a0_0x27415e(0x2e2),'keyConcepts':[''],'text':a0_0x27415e(0x1f9),'vectors':[0x0,0x0,0x0]}]},knowledgebase={'dataType':a0_0x27415e(0x233),'references':[a0_0x27415e(0x312)],'textChunks':[{'id':'85d192b3-a956-498b-81ef-32ae82a4fba6','timestamp':0x64910fea,'title':a0_0x27415e(0x312),'keyConcepts':[''],'text':a0_0x27415e(0x244),'vectors':[0x0,0x0,0x0]}]},docById=_0x7a54=>document['getElementById'](_0x7a54);async function log_out(){var _0x469e06=a0_0x27415e;await DeleteIDB(),window[_0x469e06(0x29c)][_0x469e06(0x2b5)](!0x0);}async function userIntentDecodeWithLLM(_0x1cdfa8){var _0x4d5612=a0_0x27415e;docById(_0x4d5612(0x21c))[_0x4d5612(0x27d)]=_0x4d5612(0x224),docById(_0x4d5612(0x29d))['showModal']();var _0x2fe26f=await call_oai_completion_stream('',_P_DECODE_USER_INTENT_[_0x4d5612(0x333)](_0x4d5612(0x1d1),_0x1cdfa8),vectorDB['oaiKey'],null,0x0,0x40);return console[_0x4d5612(0x1c3)](_0x1cdfa8+_0x4d5612(0x313)+_0x2fe26f),docById(_0x4d5612(0x29d))['close'](''),_0x2fe26f;}async function kbUpdateProfileSelf(_0x27a505,_0x43eca4,_0x58f39a){var _0x22d878=a0_0x27415e;return persona['user_personalData'][_0x22d878(0x241)]=_0x27a505[_0x22d878(0x20b)],persona[_0x22d878(0x27b)]['firstName']=_0x27a505[_0x22d878(0x20b)][_0x22d878(0x1fa)]('\x20')[0x0],persona[_0x22d878(0x27b)][_0x22d878(0x320)]=_0x27a505[_0x22d878(0x320)],persona[_0x22d878(0x27b)][_0x22d878(0x1c4)]=_0x43eca4,persona[_0x22d878(0x323)]=persona[_0x22d878(0x27b)][_0x22d878(0x31a)],(_0x43eca4=_0x22d878(0x1b3)+_0x27a505[_0x22d878(0x20b)],await vectorDB[_0x22d878(0x1f8)](VectorDB[_0x22d878(0x220)],_0x43eca4),await vectorDB[_0x22d878(0x253)](_0x43eca4,'',_0x58f39a,!0x1,0x200,0x0),await kbGetTitles(),_0x43eca4=_0x22d878(0x2bd)+_0x27a505['name']+_0x22d878(0x2e3)+_0x27a505['birthday']+_0x22d878(0x306)),_0x43eca4;}async function kbUpdateProfileOther(_0x206e1c,_0x2d6370,_0x236b3e){var _0x5adee3=a0_0x27415e,_0x45a694=_0x206e1c['relation_to_user'][_0x5adee3(0x35b)](),_0x41e914=persona[_0x5adee3(0x27b)][_0x5adee3(0x1c4)],_0x501c96=persona[_0x5adee3(0x27b)],_0x26b426=_0x5adee3(0x1b3)+_0x206e1c[_0x5adee3(0x20b)],_0x236b3e=_0x236b3e+_0x5adee3(0x1ef)+_0x45a694,_0x2d6370=(await vectorDB[_0x5adee3(0x1f8)](VectorDB['DATA_TYPE_KB'],_0x26b426),await vectorDB['IntegrateText'](_0x26b426,'',_0x236b3e,!0x1,0x200,0x0),await kbGetTitles(),console[_0x5adee3(0x1c3)](_0x236b3e),[_0x5adee3(0x1aa),_0x5adee3(0x357),_0x5adee3(0x25b),_0x5adee3(0x2b2)][_0x5adee3(0x26d)](_0x45a694)&&(_0x26b426=PrimbonGetPerJodohanHariLahir([_0x41e914[0x1],_0x41e914[0x3]],[_0x2d6370[0x1],_0x2d6370[0x3]]),_0x236b3e=_0x5adee3(0x247)+_0x501c96[_0x5adee3(0x241)]+_0x5adee3(0x295)+_0x206e1c[_0x5adee3(0x20b)],await vectorDB[_0x5adee3(0x1f8)](VectorDB[_0x5adee3(0x220)],_0x236b3e),_0x41e914='['+_0x236b3e+_0x5adee3(0x1d0)+_0x26b426[_0x5adee3(0x262)]+_0x5adee3(0x25d)+_0x26b426['Prediksi'],await vectorDB['IntegrateText'](_0x236b3e,'',_0x41e914,!0x1,0x200,0x0),await kbGetTitles()),'Nama\x20lengkap\x20'+_0x45a694+'\x20saya:\x20'+_0x206e1c[_0x5adee3(0x20b)]+_0x5adee3(0x1f1)+_0x45a694+_0x5adee3(0x2ed)+_0x206e1c[_0x5adee3(0x320)]+'\x0aBuat\x203\x20pertanyaan\x20singkat\x20yg\x20relevan\x20mengenai\x20orang\x20ini.');return _0x2d6370;}var Intent_Decode_Result={'intent':a0_0x27415e(0x30e),'final_userMsg':'','final_botMsg':'','sendToAI':!0x0};async function userIntentDecode(_0xadb79d){var _0x2c6425=a0_0x27415e;_P_TRANSLATE_TO_ENGLISH_['replace'](_0x2c6425(0x1d1),_0xadb79d);var _0x45cc30,_0x11c7e1,_0xd2acd3=await userIntentDecodeWithLLM(_0xadb79d),_0xce9ef1=(Intent_Decode_Result[_0x2c6425(0x2b3)]=_0xadb79d,_0x2c6425(0x23d));if(Intent_Decode_Result[_0x2c6425(0x2e8)]=_0xce9ef1,_0xd2acd3[_0x2c6425(0x26d)](_0xce9ef1))_0x246989=await call_oai_completion_stream('',_P_EXTRACT_PERSONAL_INFORMATION_[_0x2c6425(0x333)](_0x2c6425(0x1d1),_0xadb79d),vectorDB[_0x2c6425(0x2ee)],null,0x0,0x40),await delay(0x3e8),_0x348fe9=JSON['parse'](_0x246989),console[_0x2c6425(0x1c3)](_0x348fe9),_0x35287f=_0x348fe9[_0x2c6425(0x320)]['split']('-'),{dateBirthStr:_0x45cc30,dayDetail:_0x35287f,result:_0x11c7e1}=generatePeopleProfile(_0x35287f[0x0],_0x35287f[0x1],_0x35287f[0x2],_0x348fe9[_0x2c6425(0x20b)]),_0x3f933b=_0x348fe9[_0x2c6425(0x2ff)][_0x2c6425(0x35b)](),Intent_Decode_Result[_0x2c6425(0x2b3)]='self'==_0x3f933b?await kbUpdateProfileSelf(_0x348fe9,_0x35287f,_0x11c7e1):await kbUpdateProfileOther(_0x348fe9,_0x35287f,_0x11c7e1);else{if(Intent_Decode_Result[_0x2c6425(0x2e8)]=_0xce9ef1=_0x2c6425(0x33b),_0xd2acd3[_0x2c6425(0x26d)](_0xce9ef1)){var _0x3f933b=new Date(Date[_0x2c6425(0x227)]())['toLocaleDateString'](_0x2c6425(0x258),{'weekday':'long','year':_0x2c6425(0x23e),'month':_0x2c6425(0x1e4),'day':'numeric'}),_0x35287f=_P_EXTRACT_DATE_QUERY_[_0x2c6425(0x333)](_0x2c6425(0x2d3),_0x3f933b)[_0x2c6425(0x333)](_0x2c6425(0x1d1),_0xadb79d),_0x246989=(console['log'](_0x35287f),await call_oai_completion_stream('',_0x35287f,vectorDB['oaiKey'],null,0x0,0x80));await delay(0x3e8);try{var _0x348fe9=JSON[_0x2c6425(0x2bf)](_0x246989),_0x13f68f=(console[_0x2c6425(0x1c3)](_0x348fe9),new Date(persona['user_personalData']['birthday'])),_0x2775da=PrimbonGetHariBisnis(_0x13f68f,new Date(_0x348fe9[_0x2c6425(0x28c)]),!0x1,_0x348fe9[_0x2c6425(0x1dd)]);let _0x5dee4b='Wahai\x20Anaku,\x20menurut\x20perhitungan\x20wetonmu\x20dan\x20weton\x20hari:\x0a';for(const _0x2a7875 of _0x2775da)_0x5dee4b+=_0x2c6425(0x2ef)+_0x2a7875[_0x2c6425(0x334)]+_0x2c6425(0x2bc)+_0x2a7875['namaHari']+_0x2c6425(0x260)+_0x2a7875[_0x2c6425(0x22d)]+_0x2c6425(0x2ca)+_0x2a7875[_0x2c6425(0x239)]+'\x0a\x0a';return console[_0x2c6425(0x1c3)](_0x5dee4b),Intent_Decode_Result[_0x2c6425(0x1af)]=!0x1,Intent_Decode_Result[_0x2c6425(0x1d8)]=_0x5dee4b,Intent_Decode_Result;}catch(_0x2a11a2){console['log'](_0x2c6425(0x1fe)+_0x246989),console[_0x2c6425(0x1c3)](_0x2a11a2);}}Intent_Decode_Result[_0x2c6425(0x2e8)]=_INTENT_UNKNOWN_;}return Intent_Decode_Result[_0x2c6425(0x1af)]=!0x0,Intent_Decode_Result;}function scrollMessageToBottom(){var _0x35231a=a0_0x27415e,_0x5821f1=docById(_0x35231a(0x35c));_0x5821f1[_0x35231a(0x22b)]=_0x5821f1[_0x35231a(0x236)];}async function load_user_idb(){var _0x146d3e=a0_0x27415e,_0x3833f1=await GetIDBObject(_0x146d3e(0x1e2)),_0x3833f1=(null!=_0x3833f1?persona=_0x3833f1:await SaveIDBObject(persona),await GetIDBObject('conversation')),_0x3833f1=(null!=_0x3833f1?conversation=_0x3833f1:await SaveIDBObject(conversation),await msgGetHistory(),await GetIDBObject(_0x146d3e(0x233)));null==_0x3833f1&&await SaveIDBObject(knowledgebase),await kbGetTitles();}function render_msg(_0x1553e4){var _0x564c90=a0_0x27415e,_0x590265=JSON[_0x564c90(0x2bf)](_0x1553e4),_0x1553e4=_0x590265[_0x564c90(0x32e)];if(!_0x590265[_0x564c90(0x324)]['includes'](_0x564c90(0x263))){_0x564c90(0x1db)===_0x590265[_0x564c90(0x2ea)]&&({modifiedText:_0x4e2a73,jsonObjects:_0x20aac0}=replaceDataLinksWithUrls(_0x590265['text']),_0x590265[_0x564c90(0x324)]=_0x4e2a73);var _0x20aac0,_0x4e2a73=_0x590265[_0x564c90(0x324)]['replaceAll']('\x22','')[_0x564c90(0x319)](persona[_0x564c90(0x323)]+':','')[_0x564c90(0x319)](persona[_0x564c90(0x32d)]+':','')['replaceAll']('\x0a',_0x564c90(0x204));let _0x1bc598='<div\x20class=\x22_MSG_CLASS_\x22>\x0a\x09\x09\x09<p\x20id=\x22_BOT_RSP_ID_\x22>_MSG_TEXT_</p>\x0a\x09\x09\x09<span\x20class=\x22_TIME_CLASS_\x22>_TIMESTAMP_</span>\x0a\x20\x20\x20\x20\x20\x20_BUTTONS_\x0a\x09\x09\x09</div>',_0x20e8dd=_0x564c90(0x28a);return _0x1bc598=_0x1bc598[_0x564c90(0x333)](_0x564c90(0x33d),_0x4e2a73),_0x1bc598=(_0x1bc598='me'===_0x590265['from']?(_0x1bc598=(_0x1bc598=(_0x1bc598=_0x1bc598[_0x564c90(0x319)](_0x564c90(0x349),''))[_0x564c90(0x333)]('_MSG_CLASS_',_0x564c90(0x34c)))[_0x564c90(0x333)](_0x564c90(0x200),GetLocalDateFromTimeStamp(_0x590265[_0x564c90(0x32e)])))[_0x564c90(0x333)](_0x564c90(0x22c),_0x564c90(0x34d)):(_0x20e8dd=_0x20e8dd[_0x564c90(0x319)](_0x564c90(0x2d7),_0x1553e4),(_0x1bc598=(_0x1bc598=(_0x1bc598=(_0x1bc598=_0x1bc598[_0x564c90(0x319)]('_BOT_RSP_ID_',_0x1553e4))[_0x564c90(0x319)]('_BUTTONS_',_0x20e8dd))['replace'](_0x564c90(0x1d2),_0x564c90(0x223)))['replace'](_0x564c90(0x200),GetLocalDateFromTimeStamp(_0x590265['timestamp'])))[_0x564c90(0x333)]('_TIME_CLASS_',_0x564c90(0x2bb))))[_0x564c90(0x319)]('_DIALOG_ID_',_0x590265[_0x564c90(0x221)]),document[_0x564c90(0x338)](_0x564c90(0x35c))['innerHTML']+=_0x1bc598,scrollMessageToBottom(),'me'!==_0x590265[_0x564c90(0x2ea)]&&(_0x4e2a73=_0x564c90(0x322)[_0x564c90(0x333)](_0x564c90(0x2d7),_0x1553e4),docById(_0x4e2a73)[_0x564c90(0x1c6)]('click',async function(){var _0x45d0da=_0x564c90;click_delete_dialog(_0x590265[_0x45d0da(0x221)]);})),_0x1553e4;}}async function cmd_execute(_0x365c72=''){var _0x4d3b5f=a0_0x27415e;_0x4d3b5f(0x1e7)==_0x365c72?docById('dlg_kbList')['showModal']():_0x4d3b5f(0x22f)==_0x365c72?await exportJSONData():_0x4d3b5f(0x328)==_0x365c72?docById(_0x4d3b5f(0x311))[_0x4d3b5f(0x2f2)]():'cmd_logout'==_0x365c72&&await log_out();}function replaceDataLinksWithUrls(_0x3c2142){var _0x49b091=a0_0x27415e;const _0x1fb23c=[];let _0x1d9030='';return _0x3c2142[_0x49b091(0x1fa)]('\x0a')[_0x49b091(0x264)](_0x46e9da=>{var _0x2e2c45=_0x49b091;if(_0x46e9da[_0x2e2c45(0x26d)](_0x2e2c45(0x2dd))){var _0x4ffcc6=_0x46e9da[_0x2e2c45(0x339)]('{'),_0x4ffcc6=_0x46e9da['substring'](_0x4ffcc6);try{var _0x4297b9=JSON[_0x2e2c45(0x2bf)](_0x4ffcc6);_0x1fb23c[_0x2e2c45(0x35e)](_0x4297b9);var _0x4b45e3=_0x2e2c45(0x2cd)+('https://www.olx.co.id/jakarta-dki_g2000007/mobil-bekas_c198?filter=m_tipe_eq_mobil-bekas-'+_0x4297b9['brand']+'-'+_0x4297b9[_0x2e2c45(0x352)]+_0x2e2c45(0x1bd)+_0x4297b9[_0x2e2c45(0x212)]+_0x2e2c45(0x297)+_0x4297b9[_0x2e2c45(0x286)]+_0x2e2c45(0x22e))[_0x2e2c45(0x35b)]()+'\x22\x20target=\x22_blank\x22>Cek\x20Disini</a>';_0x1d9030+=_0x4b45e3+'\x0a';}catch(_0x24ffa1){console[_0x2e2c45(0x292)]('Error\x20parsing\x20JSON:',_0x24ffa1),_0x1d9030+=_0x46e9da+'\x0a';}}else _0x1d9030+=_0x46e9da+'\x0a';}),{'modifiedText':_0x1d9030,'jsonObjects':_0x1fb23c};}async function msgSend(_0x658ab1=''){var _0x6e5f74=a0_0x27415e;if(_0x658ab1[_0x6e5f74(0x2be)](_0x6e5f74(0x1f0)))await cmd_execute(_0x658ab1);else{var _0x348324=DecX(persona[_0x6e5f74(0x1f6)],dbName);conversationDB['SetOpenAIApiKey'](_0x348324),vectorDB['SetOpenAIApiKey'](_0x348324);if(_0x658ab1[_0x6e5f74(0x2be)]('_SYS_'))_0x658ab1[_0x6e5f74(0x2be)](_SYS_INPUT_PERSON_DATA_)&&(_0x658ab1=_0x658ab1[_0x6e5f74(0x333)](_SYS_INPUT_PERSON_DATA_,''));else{var _0x7d3def=await userIntentDecode(_0x658ab1);if(_0x7d3def[_0x6e5f74(0x2e8)]!=_INTENT_UNKNOWN_){if(0x0==_0x7d3def[_0x6e5f74(0x1af)])return await conversationDB[_0x6e5f74(0x257)](_0x7d3def[_0x6e5f74(0x2b3)],_0x7d3def[_0x6e5f74(0x1d8)]),void await msgGetHistory();_0x658ab1=_0x7d3def[_0x6e5f74(0x2b3)];}}_0x7d3def=persona,_0x658ab1=null==_0x658ab1?'':persona[_0x6e5f74(0x323)]+':'+_0x658ab1[_0x6e5f74(0x315)]();let _0x4b050d=await conversationDB[_0x6e5f74(0x234)]('CGPT',_0x7d3def,_0x658ab1,0x3,[''],[''],0x1f4,0x0,0x1f4,0.7,0x1,0.8,3.3);_0x4b050d=_0x4b050d[_0x6e5f74(0x333)](_0x6e5f74(0x1da)+persona[_0x6e5f74(0x325)],'')[_0x6e5f74(0x333)](_0x6e5f74(0x2c6),'')[_0x6e5f74(0x333)](_0x6e5f74(0x2db),'\x0a\x0a')['replaceAll'](_0x6e5f74(0x1ed),'')[_0x6e5f74(0x319)](_0x7d3def[_0x6e5f74(0x32d)]+':',''),console[_0x6e5f74(0x1c3)](_0x4b050d);var _0x40670a=GetTimeStamp(),_0x40670a=(render_msg(JSON[_0x6e5f74(0x205)]({'timestamp':_0x40670a,'dialogId':_0x40670a,'text':_0x658ab1,'from':'me'})),render_msg(JSON['stringify']({'timestamp':_0x40670a,'dialogId':_0x40670a,'text':'','from':_0x6e5f74(0x1db)}))),_0x40670a=document['getElementById'](_0x40670a),_0x3bb8f7=Number(_0x7d3def[_0x6e5f74(0x1ee)]??0.7),_0x2556fb=Number(_0x7d3def[_0x6e5f74(0x1e9)]??0x100);let _0x5e6be7='';(_0x5e6be7=_0x6e5f74(0x2d9)==docById(_0x6e5f74(0x1c9))['value']?await call_oai_completion_stream_strict(persona[_0x6e5f74(0x325)],_0x4b050d,_0x348324,_0x40670a,_0x3bb8f7,_0x2556fb,_0x6e5f74(0x305)):await call_ll2_completion(_0x4b050d,['</s>',_0x7d3def[_0x6e5f74(0x323)]+':'],_0x40670a,_0x3bb8f7,_0x2556fb))['includes'](_0x6e5f74(0x1c0))?alert(_0x5e6be7):(_0x5e6be7=(_0x5e6be7=CleanDateTimeISO(_0x5e6be7))[_0x6e5f74(0x319)](persona[_0x6e5f74(0x32d)]+':','')[_0x6e5f74(0x315)](),_0x348324=persona[_0x6e5f74(0x32d)]+':'+_0x5e6be7,_0x40670a['textContent']=_0x348324,await conversationDB[_0x6e5f74(0x257)](_0x658ab1,_0x348324),await msgGetHistory());}}async function msgGetHistory(){var _0x2142eb=a0_0x27415e;docById(_0x2142eb(0x35c))[_0x2142eb(0x1a9)]='';for(const _0x5709fc of await conversationDB[_0x2142eb(0x287)](0x32))render_msg(JSON[_0x2142eb(0x205)]({'timestamp':_0x5709fc[0x0],'dialogId':_0x5709fc[0x3],'text':_0x5709fc[0x1],'from':'me'})),render_msg(JSON[_0x2142eb(0x205)]({'timestamp':_0x5709fc[0x0],'dialogId':_0x5709fc[0x3],'text':_0x5709fc[0x2],'from':'bot'}));scrollMessageToBottom();}function a0_0x12ba(_0x2208a5,_0xe82323){var _0x50755b=a0_0x5e09();return a0_0x12ba=function(_0x22b781,_0x3b68e3){_0x22b781=_0x22b781-0x1a8;var _0x15ea3b=_0x50755b[_0x22b781];return _0x15ea3b;},a0_0x12ba(_0x2208a5,_0xe82323);}async function importJSONData(_0xdd98e7){var _0x53e4d6=a0_0x27415e;try{var _0x41fb0e=_0xdd98e7[_0x53e4d6(0x1cb)][_0x53e4d6(0x2cc)][0x0],_0x51639a=new FileReader();_0x51639a[_0x53e4d6(0x1ad)]=async _0x19bb54=>{var _0x410038=_0x53e4d6,_0x19bb54=_0x19bb54[_0x410038(0x1cb)][_0x410038(0x209)],_0x19bb54=JSON['parse'](_0x19bb54),_0x38c2a6=_0x19bb54[_0x410038(0x2b1)]??'';'conversation'!=_0x38c2a6&&_0x410038(0x1e2)!=_0x38c2a6&&'knowledgebase'!=_0x38c2a6&&_0x410038(0x2d0)!=_0x38c2a6?alert(_0x410038(0x25a)):_0x410038(0x2d0)==_0x38c2a6?confirm(_0x410038(0x29a))&&(null!=_0x19bb54[_0x410038(0x1e2)]&&await SaveIDBObject(_0x19bb54[_0x410038(0x1e2)]),null!=_0x19bb54[_0x410038(0x2c2)]&&await SaveIDBObject(_0x19bb54[_0x410038(0x2c2)]),null!=_0x19bb54['knowledgebase']&&await SaveIDBObject(_0x19bb54[_0x410038(0x233)]),alert(_0x410038(0x20c)),location[_0x410038(0x2b5)]()):(confirm(_0x410038(0x359)+_0x38c2a6[_0x410038(0x268)]()+_0x410038(0x2a1))&&(await SaveIDBObject(_0x19bb54),alert(_0x410038(0x20c))),location[_0x410038(0x2b5)]());},_0x51639a[_0x53e4d6(0x2aa)](_0x41fb0e);}catch(_0x5b7b2e){alert(_0x53e4d6(0x25a));}}async function exportJSONData(){var _0x572180=a0_0x27415e,_0x62e6bb={'dataType':'agent'};_0x62e6bb[_0x572180(0x1e2)]=await GetIDBObject(_0x572180(0x1e2)),_0x62e6bb[_0x572180(0x2c2)]=await GetIDBObject(_0x572180(0x2c2)),_0x62e6bb[_0x572180(0x233)]=await GetIDBObject(_0x572180(0x233)),saveAsFile(dbName+'-'+GetTimeStamp()+_0x572180(0x2c5),_0x62e6bb,document);}async function click_delete_dialog(_0x345083){var _0x400a76=a0_0x27415e;await conversationDB[_0x400a76(0x222)](_0x345083),await msgGetHistory();}async function kbAddItem(){var _0x5543b4=a0_0x27415e;docById(_0x5543b4(0x21c))[_0x5543b4(0x27d)]='Importing\x20Knowledge\x20Base',dlg_info['showModal']();var _0x28f735=DecX(persona[_0x5543b4(0x1f6)],dbName);vectorDB[_0x5543b4(0x1b2)](_0x28f735),await vectorDB[_0x5543b4(0x253)](kb_input_title['value'],'',kb_input_content[_0x5543b4(0x32f)],kb_input_isGiantText['checked'],kb_input_textchunker_chunkSize[_0x5543b4(0x32f)],kb_input_textchunker_chunkOverlap['value']),await kbGetTitles(),dlg_info[_0x5543b4(0x1b8)]('');}async function kbImportPDF(_0x1bd6f5){var _0x8f69e7=a0_0x27415e,_0x1bd6f5=_0x1bd6f5[_0x8f69e7(0x1cb)][_0x8f69e7(0x2cc)][0x0],_0x3e70da=(kb_input_title[_0x8f69e7(0x32f)]=_0x1bd6f5[_0x8f69e7(0x20b)],new FileReader());_0x3e70da['onload']=async function(_0x44ef40){var _0x589c24=_0x8f69e7,_0x44ef40=new Uint8Array(_0x44ef40['target'][_0x589c24(0x209)]),_0x2bb66b=(console['log'](_0x44ef40['length']),window[_0x589c24(0x261)]);_0x2bb66b[_0x589c24(0x289)][_0x589c24(0x1f2)]='//mozilla.github.io/pdf.js/build/pdf.worker.js',_0x2bb66b[_0x589c24(0x2e7)](_0x44ef40)[_0x589c24(0x23b)]['then'](async function(_0x2b8c06){var _0x3dfadb=_0x589c24,_0xc541e8=_0x2b8c06[_0x3dfadb(0x293)];kb_input_isGiantText[_0x3dfadb(0x1fc)]=!0x0;for(let _0x3601a4=0x1;_0x3601a4<=_0xc541e8;_0x3601a4++){var _0x327051=await(await _0x2b8c06[_0x3dfadb(0x1cc)](_0x3601a4))[_0x3dfadb(0x213)]();kb_input_content[_0x3dfadb(0x32f)]+='_PN_:'+_0x3601a4+'\x0a';for(const _0x227561 of _0x327051[_0x3dfadb(0x1c8)])kb_input_content[_0x3dfadb(0x32f)]+=_0x227561['str']+'\x0a';}alert(_0x3dfadb(0x2e9));});},_0x3e70da['readAsArrayBuffer'](_0x1bd6f5);}async function kbDeleteItem(_0x3dad22){var _0x128a00=a0_0x27415e,_0x5acc4a=vectorDB;await _0x5acc4a['DeleteTitle'](_0x5acc4a[_0x128a00(0x220)],_0x3dad22),await kbGetTitles();}async function kbGetTitles(){var _0x9b5968=a0_0x27415e,_0x1efa42=vectorDB,_0x4d9858=docById(_0x9b5968(0x33f)),_0x1efa42=await _0x1efa42[_0x9b5968(0x2b4)](_0x1efa42[_0x9b5968(0x220)]);console[_0x9b5968(0x1c3)](_0x1efa42);let _0x1dbc21='',_0x12eda0=0x0;for(const _0x5da4e4 of _0x1efa42)_0x1dbc21+=_0x9b5968(0x34f)+_0x12eda0++ +_0x9b5968(0x226)+_0x5da4e4+_0x9b5968(0x235);_0x1dbc21=_0x9b5968(0x1b1)+_0x1dbc21+_0x9b5968(0x303),_0x4d9858[_0x9b5968(0x1a9)]=_0x1dbc21,_0x12eda0=0x0;for(const _0x322ee4 of _0x1efa42){var _0x1ff2d0=_0x9b5968(0x237)+_0x12eda0++;docById(_0x1ff2d0)[_0x9b5968(0x1c6)](_0x9b5968(0x279),async function(){await kbDeleteItem(_0x322ee4);});}}onload=async function(){var _0x795d93=a0_0x27415e;docById(_0x795d93(0x301))[_0x795d93(0x1c6)](_0x795d93(0x1b5),function(_0x5e39c4){var _0x49d6bb=_0x795d93;_0x49d6bb(0x2ab)===_0x5e39c4[_0x49d6bb(0x24f)]&&(_0x5e39c4[_0x49d6bb(0x2fe)](),document[_0x49d6bb(0x338)]('message-send')[_0x49d6bb(0x279)]());}),docById(_0x795d93(0x2a4))['addEventListener']('click',async function(){var _0x1795f8=_0x795d93,_0x210cda=docById('message-input')[_0x1795f8(0x32f)];docById(_0x1795f8(0x301))[_0x1795f8(0x32f)]='',docById(_0x1795f8(0x301))['readOnly']=!0x0,docById(_0x1795f8(0x2a4))['disabled']=!0x0,await msgSend(_0x210cda),docById(_0x1795f8(0x301))[_0x1795f8(0x1d3)]=!0x1,docById(_0x1795f8(0x2a4))[_0x1795f8(0x2b6)]=!0x1;}),docById(_0x795d93(0x21a))[_0x795d93(0x321)](_0x795d93(0x1bc))[_0x795d93(0x264)](_0x24fd41=>_0x24fd41[_0x795d93(0x1de)]['textAlign']=_0x795d93(0x29b)),docById(_0x795d93(0x2de))[_0x795d93(0x1c6)](_0x795d93(0x279),async function(){open_get_person_data('Data\x20Orang\x20Lain');}),docById(_0x795d93(0x29e))[_0x795d93(0x1c6)](_0x795d93(0x279),async function(){submit_get_person_data();}),docById(_0x795d93(0x343))[_0x795d93(0x1c6)](_0x795d93(0x279),async function(){dlg_get_person_data['close']('');}),docById(_0x795d93(0x337))[_0x795d93(0x1c6)](_0x795d93(0x279),async function(){var _0x6b197e=_0x795d93;docById(_0x6b197e(0x314))[_0x6b197e(0x1de)][_0x6b197e(0x26c)]='block',docById(_0x6b197e(0x314))[_0x6b197e(0x1de)][_0x6b197e(0x21f)]=_0x6b197e(0x23c),docById(_0x6b197e(0x314))[_0x6b197e(0x1de)][_0x6b197e(0x2a5)]=_0x6b197e(0x26f),docById('message_input')['style'][_0x6b197e(0x26c)]=_0x6b197e(0x1d9),docById('div_chat_menu_bar')['style'][_0x6b197e(0x26c)]=_0x6b197e(0x1d9);}),docById(_0x795d93(0x245))[_0x795d93(0x1c6)](_0x795d93(0x279),async function(){var _0xc84de3=_0x795d93;docById(_0xc84de3(0x314))[_0xc84de3(0x1de)]['display']=_0xc84de3(0x1d9),docById(_0xc84de3(0x314))['style'][_0xc84de3(0x21f)]=_0xc84de3(0x1b0),docById(_0xc84de3(0x314))['style'][_0xc84de3(0x2a5)]=_0xc84de3(0x26f),docById(_0xc84de3(0x2ac))[_0xc84de3(0x1de)][_0xc84de3(0x26c)]=_0xc84de3(0x225),docById(_0xc84de3(0x32b))[_0xc84de3(0x1de)][_0xc84de3(0x26c)]=_0xc84de3(0x225);}),docById(_0x795d93(0x208))[_0x795d93(0x1c6)](_0x795d93(0x279),async function(){0x1==confirm('Anda\x20yakin\x20mau\x20Log-out\x20?')&&await log_out();}),docById(_0x795d93(0x344))[_0x795d93(0x1a9)]=persona[_0x795d93(0x251)];let _0x5564d3='';for(const _0x43551d of persona['persona_greetings_questions'])_0x5564d3+=_0x43551d+_0x795d93(0x204);docById(_0x795d93(0x20a))[_0x795d93(0x1a9)]=_0x5564d3,docById('ver_info')[_0x795d93(0x27d)]=version,docById(_0x795d93(0x273))['addEventListener'](_0x795d93(0x279),async function(){var _0x506c53=_0x795d93;dlg_kb_input[_0x506c53(0x1b8)]('');}),docById(_0x795d93(0x26b))[_0x795d93(0x1c6)]('click',async function(){await kbAddItem();}),docById(_0x795d93(0x1ea))[_0x795d93(0x1c6)](_0x795d93(0x2ba),kbImportPDF),(docById(_0x795d93(0x26e))['addEventListener'](_0x795d93(0x2ba),importJSONData),await load_user_idb());var _0x5cae77=DecX(persona[_0x795d93(0x1f6)],dbName);conversationDB[_0x795d93(0x1b2)](_0x5cae77),vectorDB[_0x795d93(0x1b2)](_0x5cae77);};function a0_0xf12e61(_0x5a9781){function _0x505804(_0x1deee2){var _0x534454=a0_0x12ba;if(typeof _0x1deee2===_0x534454(0x229))return function(_0x45979a){}[_0x534454(0x2e5)]('while\x20(true)\x20{}')[_0x534454(0x2da)](_0x534454(0x2b0));else(''+_0x1deee2/_0x1deee2)[_0x534454(0x275)]!==0x1||_0x1deee2%0x14===0x0?function(){return!![];}[_0x534454(0x2e5)](_0x534454(0x1df)+_0x534454(0x248))['call'](_0x534454(0x340)):function(){return![];}[_0x534454(0x2e5)]('debu'+_0x534454(0x248))[_0x534454(0x2da)](_0x534454(0x249));_0x505804(++_0x1deee2);}try{if(_0x5a9781)return _0x505804;else _0x505804(0x0);}catch(_0x3d3361){}}